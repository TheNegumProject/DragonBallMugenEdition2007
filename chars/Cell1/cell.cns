;Cell Imperfect 1.5 powered by SaWWeN Productions ^^
;---------------------------------------------------------------------------
;Constants
;---------------------------------------------------------------------------
[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 25
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 200
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 20
ground.front = 20
air.back = 20    
air.front = 20   
height = 105   
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0     
head.pos = 0, -95  
mid.pos = -0, -65    
shadowoffset = 0     
draw.offset = 0,0    

[Velocity]
walk.fwd  = 2.4
walk.back = -2.2
run.fwd  = 6.8, 0    
run.back = -4,-6
jump.neu = 0,-11    
jump.back = -3    
jump.fwd = 3      
runjump.back = -3.5,-4.4
runjump.fwd = 3.5,-4.4
airjump.neu = 0,-7.5  
airjump.back = -2.55  
airjump.fwd = 2.5        

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .48
stand.friction = .85 
crouch.friction = .82 
;---------------------------------------------------------------------------
; Intros and endings
;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 180, 0]
type = PlaySnd
trigger1 = time = 0 ;time = 0 AnimElem = 1
value = 777,1
volume = 355

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 0]
type = PlaySnd
trigger1 = time = 0 ;time = 0 AnimElem = 1
value = 4,4
volume = 355

[State 180, 1]
type = ChangeState
trigger1 = !time
value = 181

;---------------------------------------------------------------------------
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Intro state decider
[Statedef 190]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 191

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 192

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 193

[State 180, 1]
type = ChangeState
trigger1 = Random >= 500
value = 194
;---------------------------------------------------------------------------
; Intro 1
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = PlaySnd
trigger1 = time = 1 ;time = 0 AnimElem = 1
value = 5,2
volume = 355

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 192]
type = S
ctrl = 0
anim = 190

[State 192]
type=AssertSpecial
trigger1=time<300
flag=Intro

[State 192]
type = ScreenBound
trigger1 = 1
value = 0

[State 192]
type=PosSet
trigger1=time=0
y=-315

[State 192]
type=VelSet
trigger1=time=20
y=30

[State 192]
type=VelSet
trigger1=time=30
y=0

[State 192]
type=PlaySnd
trigger1=time=1
value=5,3
volume=355

[State 192]
type=Explod
trigger1=time=28
anim=6310
ID=192
pos=0,50
scale = 0.85,0.85
bindtime=1
sprpriority=3
ownpal=1

[State 192]
type = EnvShake
trigger1 = Time >= 30
time = 15
freq = 120
ampl = -2

[State 192]
type = EnvColor
trigger1=time=30
value = 255,255,255
time = 1

[State 192]
type=VelSet
trigger1=time=60
y=.15

[State 192]
type=VelSet
trigger1=pos y >= 0
y=0

[State 192]
type=ChangeState
trigger1=time=300
value=0
;---------------------------------------------------------------------------
; Intro 3
[Statedef 193]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 193, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192]
type=PlaySnd
trigger1=time=1
value=1601,3
volume=355

[State 192]
type=PlaySnd
trigger1=time=79
value=1601,2
volume=355

[State 192]
type=PlaySnd
trigger1=time=275
value=1601,4
volume=355

[State 193, Arale]
type = Explod
trigger1 = time = 0
persistent = 0
anim = 193
ID = 193
postype = p1
pos = -20,0
removetime = 320

[State 193, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro 4
[Statedef 194]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 194, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192]
type=PlaySnd
trigger1= animelem = 17
value=777,0
volume=355

[State 192]
type=PlaySnd
trigger1= animelem = 23
value=40,0
volume=255

[State 194]
type = Explod
trigger1 = ANIMELEM = 17
persistent = 0
anim = 777
ID = 777
postype = p1
pos = -12,-107
scale = 0.70,0.70
removetime = 60

[State 194]
type = Explod
trigger1 = ANIMELEM = 23
persistent = 0
anim = 8903
ID = 8903
postype = p1
pos = 0,0
scale = 0.55,0.55
removetime = 30

[State 194, Larva]
type = Explod
trigger1 = time = 110
persistent = 0
anim = 197
ID = 197
postype = p1
pos = 0,0
removetime = -2

[State 194, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
;Dialogo
[Statedef 195]
type 			= S
movetype		= I
physics		= N
anim			= 192
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 2

[State 2700]
type = superpause
trigger1 = time = 0
time = 330
movetime = 330
anim = -1
darken = 0

[State 195:		PlaySnd]
type			= PlaySnd
trigger1		= Time = 0
value			= S4,3
channel		= 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 195:		ChangeState]
type			= ChangeState
trigger1		= (!AnimTime)
value			= 0
ctrl			= 1

;---------------------------------------------------------------------------
;Standing Basics:
;---------------------------------------------------------------------------
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 200        
poweradd = 10 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Light
air.animtype = Light
;fall.animtype = Back
priority = 3,Hit
damage = 25,5
pausetime = 8,8
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-46
hitsound = S1,0
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 1
guard.slidetime = 1
ground.hittime = 1
guard.hittime = 1
air.hittime = 1
ground.velocity = -4,0
air.velocity = -4,-2
givepower = 40, 40
getpower = 80,80

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

; Stand Medium Punch
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 202
poweradd = 25
sprpriority = 2

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30, 0
animtype = Light
air.animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 6
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-46
hitsound = S1,0
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 1
guard.slidetime = 1
ground.hittime = 1
guard.hittime = 1
air.hittime = 1
ground.velocity = -4,0
air.velocity = -4,-2
givepower = 40, 40
getpower = 80,80

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 201, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0             
ctrl = 0                   
anim = 210        
poweradd = 20 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,1
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 40,8
pausetime = 10,10
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S1,1
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 2
guard.slidetime = 2
ground.hittime = 2
guard.hittime = 2
air.hittime = 2
ground.velocity = -6,0
air.velocity = -4,-2
givepower = 60, 60
getpower = 120,120

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 225
poweradd = 20

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,1
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 40,8
pausetime = 10,10
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S1,1
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 2
guard.slidetime = 2
ground.hittime = 2
guard.hittime = 2
air.hittime = 2
ground.velocity = -6,0
air.velocity = -4,-2
givepower = 60, 60
getpower = 120,120
fall = 1
air fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 220        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
;fall.animtype = Back
priority = 5,Hit
damage = 55,11
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S8050
sparkxy = -10,-56
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -3,6
air.velocity = -3,6
givepower = 80, 80
getpower = 140,140
envshake.time = 12
envshake.freq = 120
envshake.ampl = 6
Fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 250        
poweradd = 10 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype =light
air.animtype = medium
;fall.animtype = Back
priority = 3,Hit
damage = 30,6
pausetime = 8,8
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = S1,3
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 2
guard.slidetime = 2
ground.hittime = 2
guard.hittime = 2
air.hittime = 2
ground.velocity = -5,0
air.velocity = -5,-2
givepower = 40, 40
getpower = 80,80

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

; Kick down
[Statedef 203]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 203
poweradd = 25
sprpriority = 2

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 300
trigger1 = Time = 1
value = 0, 9

[State 203, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 30, 0
animtype = medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 6
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-27
hitsound = S1,3
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 3
guard.slidetime = 3
ground.hittime = 3
guard.hittime = 3
air.hittime = 3
ground.velocity = -9,0
air.velocity = -9,-2
givepower = 40, 40
getpower = 80,80

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 203, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0             
ctrl = 0                   
anim = 260        
poweradd = 20 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,4
volume = 0
channel = 1

[State 200]
type = PlaySnd
triggerall = random >= 700
trigger1 = Time = 1
value = 0, 9

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 45,9
pausetime = 11,11
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S8050
sparkxy = -10,-58
hitsound = S1,1
guardsound = S3,0
ground.type = trip
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -3.4 ,-8
airguard.velocity = -3, -7
air.velocity = -1
fall = 1
AIR FALL = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------

[Statedef 204]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 204

[State 216, 1]
type = superpause
trigger1 = time = 20
time = 30
movetime = 30
anim = -1
darken = 0

[State 216,teleport]
type = PosAdd
trigger1 = AnimElem = 2
trigger1 = Var(4) = [0,1]
x = p2bodydist x + 85
y = p2bodydist y - 15

[State 216, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1600, 0
volume = 255

[State 216, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 4
volume = 255

[State 216, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = 25
guardflag = MA
pausetime = 1,1
sparkno = S900
sparkno = S11002
guard.sparkno = S8050
hitsound = S1,1
guardsound = S3,0
guard.sparkno = -1
sparkxy = -2,-50
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = 25, 30
air.velocity = 6, 12
fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 216, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 270        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
;fall.animtype = Back
priority = 5,Hit
damage = 60,12
pausetime = 13,13
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S8050
sparkxy = -6,-55
hitsound = S1,5
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -10,0
air.velocity = -8,-4
givepower = 80, 80
getpower = 140,140
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6
air.fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 271]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 251        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
;fall.animtype = Back
priority = 5,Hit
damage = 50,10
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S1,5
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 7
guard.slidetime = 7
ground.hittime = 7
guard.hittime = 7
air.hittime = 7
ground.velocity = -2,-4
air.velocity = -4,-4
givepower = 80, 80
getpower = 140,140
envshake.time = 13
envshake.freq = 120
envshake.ampl = 6

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;Crouching Basics:
;---------------------------------------------------------------------------
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 400        
poweradd = 10 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Light
air.animtype = Light
;fall.animtype = Back
priority = 3,Hit
damage = 21,4
pausetime = 8,8
;guard.pausetime = 0,0
sparkno = S11000
guard.sparkno = S8050
sparkxy = -7,-26
hitsound = S1,0
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 5
guard.slidetime = 5
ground.hittime = 5
guard.hittime = 5
air.hittime = 5
ground.velocity = -4,0
air.velocity = -4,-2
givepower = 40, 40
getpower = 80,80

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 3
velset = 0,0             
ctrl = 0                   
anim = 410        
poweradd = 20 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,1
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Medium
air.animtype = Medium
;fall.animtype = Back
priority = 4,Hit
damage = 37,8
pausetime = 5,10
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S8050
sparkxy = -7,-26
hitsound = S1,1
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 5
guard.slidetime = 5
ground.hittime = 5
guard.hittime = 5
air.hittime = 5
ground.velocity = -5,0
air.velocity = -4,-3
givepower = 50, 50
getpower = 100,100

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 4
velset = 0,0             
ctrl = 0                   
anim = 420        
poweradd = 30 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = Hard
air.animtype = Hard
fall.animtype = Up
priority = 5,Hit
damage = 52,11
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S8050
sparkxy = -15,-47
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,-9
air.velocity = -1,-9
givepower = 60, 60
getpower = 120,120
fall = 1

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 450        
poweradd = 10 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 25,5
pausetime = 8,8
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-28
hitsound = S1,0
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 5
guard.slidetime = 5
ground.hittime = 5
guard.hittime = 5
air.hittime = 5
ground.velocity = -3,0
air.velocity = -3,-2
givepower = 40, 40
getpower = 80,80

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 460]
type    = C
movetype= A
physics = C
juggle  = 2
velset = 0,0             
ctrl = 0                   
anim = 460        
poweradd = 20 

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,4
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 25,5
pausetime = 8,8
sparkno = S11001
guard.sparkno = S8050
sparkxy = -10,-18
hitsound = S1,4
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 5
guard.slidetime = 5
ground.hittime = 5
guard.hittime = 5
air.hittime = 5
ground.velocity = -3,0
air.velocity = -3,-2
givepower = 40, 40
getpower = 80,80

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 470]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0             
ctrl = 0                   
anim = 470        
poweradd = 30 

[State 0, ]
type = Explod
trigger1 = AnimElem = 2,1 || AnimElem = 2,4 || AnimElem = 2,7
anim = 8905
ID = 8905
pos = 77,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, ]
type = Explod
trigger1 = AnimElem = 2,1 || AnimElem = 2,4 || AnimElem = 2,7
anim = 8905
ID = 8905
pos = 18,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, ]
type = VelSet
trigger1 = AnimElem = 2
x = 9

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
hitflag = MD
guardflag = L
;affectteam = E
animtype = Back
air.animtype = Back
fall.animtype = Back
priority = 5,Hit
damage = 52,11
pausetime = 12,12
;guard.pausetime = 0,0
sparkno = S11002
guard.sparkno = S8050
sparkxy = -10,-16
hitsound = S1,5
guardsound = S3,0
ground.type = Trip
air.type = Trip
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,-5
air.velocity = -1,-5
givepower = 60, 60
getpower = 120,120
fall = 1

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping basics:
;---------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype = A
physics = A
juggle  = 2
ctrl = 0
anim = 610
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 25,5
pausetime = 8,8
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = S1,0
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -4,0
air.velocity = -2,(vel y)
givepower = 40, 40
getpower = 80,80

;---------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 620
poweradd = 20

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,1
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = Medium
priority = 4,Hit
damage = 40,8
pausetime = 10,10
sparkno = S11001
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = S1,1
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -6,0
air.velocity = -4,(vel y)
givepower = 50, 50
getpower = 100,100

;---------------------------------------------------------------------------
[Statedef 620]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 620
poweradd = 30

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = 55,11
pausetime = 12,12
sparkno = S11002
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -1,8
air.velocity = -1,8
givepower = 60, 60
getpower = 120,120
fall.envshake.time = 12
fall.envshake.freq = 120
fall.envshake.ampl = 6
Fall = 1

;---------------------------------------------------------------------------
[Statedef 621]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 621
poweradd = 30

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,2
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = 55,11
pausetime = 12,12
sparkno = S11002
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = S1,2
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -1,8
air.velocity = -1,8
givepower = 60, 60
getpower = 120,120
fall.envshake.time = 12
fall.envshake.freq = 120
fall.envshake.ampl = 6
Fall = 1
;---------------------------------------------------------------------------
[Statedef 650]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 650
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 25,5
pausetime = 8,8
sparkno = S11000
guard.sparkno = S8050
sparkxy = -6,-85
hitsound = S1,3
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -4,0
air.velocity = -2,(vel y)
givepower = 40, 40
getpower = 80,80

;---------------------------------------------------------------------------
[Statedef 651]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = 651
poweradd = 10

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,3
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Light
air.animtype = Light
priority = 3,Hit
damage = 25,5
pausetime = 8,8
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S1,3
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 10
guard.slidetime = 10
ground.hittime = 10
guard.hittime = 10
air.hittime = 10
ground.velocity = -4,0
air.velocity = -2,(vel y)
givepower = 40, 40
getpower = 80,80
;---------------------------------------------------------------------------
[Statedef 660]
type    = A
movetype = A
physics = A
juggle  = 3
ctrl = 0
anim = Ifelse(Vel X = 0,660,661)
poweradd = 20

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,4
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Medium
air.animtype = Medium
priority = 4,Hit
damage = 45,9
pausetime = 10,10
sparkno = S11002
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = S1,4
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 15
guard.hittime = 15
air.hittime = 15
ground.velocity = -6,0
air.velocity = -5,(vel y)
givepower = 50, 50
getpower = 100,100

;---------------------------------------------------------------------------
[Statedef 670]
type    = A
movetype = A
physics = A
juggle  = 5
ctrl = 0
anim = 670
poweradd = 30

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,5
volume = 0
channel = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 6
attr = A, NA
hitflag = MAF
guardflag = MA
animtype = Hard
air.animtype = Hard
priority = 5,Hit
damage = 60,11
pausetime = 12,12
sparkno = S11002
guard.sparkno = S8050
sparkxy = -8,-15
hitsound = S1,5
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
guard.hittime = 20
air.hittime = 20
ground.velocity = -1,8
air.velocity = -1,8
givepower = 60, 60
getpower = 120,120
fall.envshake.time = 12
fall.envshake.freq = 120
fall.envshake.ampl = 6
Fall = 1
;---------------------------------------------------------------------------
; Throws
;---------------------------------------------------------------------------
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 26
velset = 0,0             
ctrl = 0                   
anim = 800        
poweradd = 40 
sprpriority = 2

[State 0, ]
type = PlaySnd
trigger1 = !time
value = 0,0
volume = 0
channel = 1

[State 0, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
guardflag =
hitflag = M-
sparkno = -1
sparkxy = 0, 0
;pausetime = 8,8
priority = 5,dodge
hitsound = S800,0
p1stateno = 801
p2stateno = 802
;p1facing = ifelse(command = "holdfwd",1,-1)
p2facing = 1
givepower = 50
getpower = 100

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 801]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0             
ctrl = 0                   
anim = 801        
poweradd = 0 
sprpriority = 2

[State 0, ]
type = Width
trigger1 = 1
edge = 55,0
;player = 0,0
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ]
type = Turn
triggerall = Time < 4
trigger1 = command = "holdback"
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = TargetFacing
trigger1 = time < 4
value = -1
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 47,-84

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 58,-112

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 60,-115

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = -8,-107

[State 0, ]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 70,-50

[State 0, ]
type = TargetState
trigger1 = AnimElem = 6
value = 803

[State 0, ]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -100

[State 0, ]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 802]
type    = A
movetype= H
physics = N
juggle  = 0
velset = 0,0             
ctrl = 0                   
;anim = 802        
poweradd = 0 
sprpriority = 0

[State 0, ]
type = SprPriority
triggerall = time >= 1
trigger1 = AnimElem = 4,>0
value = 4

[State 0, ]
type = ChangeAnim2
trigger1 = !time
value = 802

[State 0, ]
type = ChangeAnim2
trigger1 = enemy, stateno = 805
value = 802
Elem = 3

[State 0, ]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;---------------------------------------------------------------------------
[Statedef 803]
type    = A
movetype= H
physics = N
juggle  = 0
velset = -4,14            
ctrl = 0                   
;anim = 803        
poweradd = 0 
sprpriority = 3 

[State 0, ]
type = ChangeAnim2
trigger1 = !time
value = 803
;elem = 
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = Gravity
trigger1 = 1

[State 0, ]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 805]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0             
ctrl = 0                   
anim = 805      
poweradd = 0 
sprpriority = 3

[State 0, ]
type = Width
trigger1 = 1
edge = 55,0

[State 0, ]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ]
type = Explod
triggerall = Time < 10
trigger1 = random < 200
anim = 8101
ID = 8101
pos = 0,-50
postype = p1
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
bindtime = 1
random = 0,80
scale = .75,.75
sprpriority = 4
ownpal = 1

[State 0, ]
type = Explod
trigger1 = !time
anim = 809
ID = 809
pos = 0,0
postype = p1
bindtime = 10
sprpriority = 5
ownpal = 1

[State 0, ]
type = Explod
trigger1 = time = 18
anim = 8030
ID = 8030
pos = 22,-42
postype = p1
bindtime = 1
sprpriority = 5
ownpal = 1

[State 0, ]
type = TargetBind
trigger1 = Time < 18
pos = 60,-115

[State 0, ]
type = TargetBind
trigger1 = Time = 18
pos = 60,-20

[State 0, ]
type = TargetState
trigger1 = Time = 18
value = 806

[State 0, ]
type = TargetLifeAdd
trigger1 = Time = 18
value = -130

[State 0, ]
type = ChangeState
trigger1 = AnimTime = 0 
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 806]
type    = S
movetype= H
physics = N
juggle  = 0
velset = 0,0          
ctrl = 0                   
;anim = 5061        
poweradd = 0 
sprpriority = 3

[State 0, PalFXWiz] ;Generated by MEE PalFX Editor
type = PalFX
trigger1 = !time
time = 40
add = 240,50,0
mul = 250,224,120 
sinadd = 110,55,85,10
invertall = 1
;color = 2
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = EnvShake
trigger1 = !time
time = 12
freq = 120
ampl = -6

[State 0, ]
type = ChangeAnim2
trigger1 = !time
value = 5061

[State 0, ]
type = ChangeAnim2
trigger1 = time <=12
value = Anim
elem = 1

[State 0, ]
type = VelSet
trigger1 = time = 13
x = -7 
y = -7
;ignorehitpause = 0
;persistent = 1

[State 0, ]
type = null;ChangeAnim2
trigger1 = !time
value = 806

[State 0, ]
type = StateTypeSet
trigger1 = Time = 13
statetype = A
movetype = H
physics = N

[State 0, ]
type = Gravity
trigger1 = time > 12

[State 0, ]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;----------------------------------------------------------
;Super Combo
[Statedef 1305]
type    = S
movetype= A
physics = S
poweradd = -300
ctrl = 0
anim = 1305
velset = 0,0,0

[State 0, ]
type = VelSet
trigger1 = time > 4
x = 13

[State 0, ]
type = Explod
trigger1 = time = 1
triggerall = pos y = 0
anim = 24
ID = 24
pos = 0,0
scale = .5,.3
vel= -2,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 2700,1]
type = playsnd
trigger1 = time = 0
value = 100,0
volume = 255
channel = 1

[State 0, ]
type = HitDef
trigger1 = animelem = 2
attr = S,SA
hitflag = MAF
guardflag =
affectteam = E
animtype = Light
air.animtype = Light
fall.animtype = Back
priority = 4,Hit
damage = 0,0
pausetime = 0,0
sparkno = S11000
guard.sparkno = -1
sparkxy = 0,0
ground.type = High
air.type = High
ground.slidetime = 50
ground.hittime = 50
ground.velocity = 5,0
air.velocity = 5,0
p1stateno = 1306
fall.recover = 0
ignorehitpause = 0
persistent = 1

[State 0, ]
type = SelfState
trigger1 = animtime = 0 && pos y = 0
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = SelfState
trigger1 = animtime = 0 && pos y < 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------
;Super Combo 2
[Statedef 1306]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0,0
anim = 1306

[State 0, ]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1
ignorehitpause = 1

[State 0, ]
type = AfterImage
trigger1 = time = 0
time = 150
length = 50
palcolor = 256
palcontrast = 120,120,120
paladd = 10,10,10
palmul = .65,.65,.65
timegap = 1
framegap = 2
trans = add
ignorehitpause = 1
persistent = 1

[State 0, ]
type = HitDef
trigger1 = animelem = 2
attr = S,SA
hitflag = MAFD
guardflag =
affectteam = E
animtype = Light
air.animtype = Light
fall.animtype = Back
priority = 4,Hit
damage = 20,10
pausetime = 10,10
sparkno = -1
guard.sparkno = S8
sparkxy = 20,-50
hitsound = S1,1
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 999
ground.hittime = 999
ground.velocity = 0,-6
air.velocity = 0,-6
fall.recover = 0
ignorehitpause = 1
persistent = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4

[State 0, ]
type = Posadd
trigger1 = animelem = 4,= 3
x = p2dist x - 20;-267
y = p2dist y + 10;65
;x = 0
;y = -200

[State 0, ]
type = HitDef
trigger1 = animelem = 6
attr = S,SA
hitflag = MAFD
guardflag =
affectteam = E
animtype = Light
air.animtype = Light
fall.animtype = Back
priority = 4,Hit
damage = 23,10
pausetime = 10,10
sparkno = S4
guard.sparkno = S8
sparkxy = -10,-50
hitsound = S1,1
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 80
ground.velocity = -6,-1
air.velocity = -6,-1
fall.recover = 0
ignorehitpause = 1
persistent = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4

[State 0, ]
type = Turn
trigger1 = time = 44

[State 0, ]
type = PosAdd
trigger1 = time = 44
x = p2dist x - 20;-267
y = p2dist y + 10;65

[State 0, ]
type = HitDef
trigger1 = animelem = 9
attr = S,SA
hitflag = MAFD
guardflag =
affectteam = E
animtype = Light
air.animtype = Light
fall.animtype = Back
priority = 4,Hit
damage = 26,10
pausetime = 10,10
sparkno = S4
guard.sparkno = S8
sparkxy = 10,-65
hitsound =  S1,1
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 80
ground.velocity = -1,-6
air.velocity = -1,-6
fall.recover = 0
ignorehitpause = 1
persistent = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4

[State 0, ]
type = PosAdd
trigger1 = time = 56
x = p2dist x - 20;-267
y = p2dist y - 30;65
;x = -62
;y = -189

[State 0, ]
type = VelSet
trigger1 = time = 56
x = 8
y = 4

[State 0, ]
type = HitDef
trigger1 = animelem = 12
attr = S,SA
hitflag = MAFD
guardflag =
affectteam = E
animtype = Light
air.animtype = Light
fall.animtype = Back
priority = 4,Hit
damage = 30,20
pausetime = 10,10
sparkno = S4
guard.sparkno = S8
sparkxy = 0,-15
hitsound =  S1,1
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 80
ground.velocity = -2,4
air.velocity = -2,4
fall.recover = 0
ignorehitpause = 1
persistent = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4

[State 0, ]
type = PosAdd
trigger1 = time = 68
x = p2dist x - 20;-267
y = p2dist y + 60;65
;x = 30
;y = 140

[State 0, ]
type = VelSet
trigger1 = time = 67
x = 0
y = -5

[State 0, ]
type = PlayerPush
trigger1 = time = [67,77]
value = 0
ignorehitpause = 1

[State 0, ]
type = PlayerPush
trigger1 = time = [78,97]
value = 1
ignorehitpause = 1

[State 0, ]
type = PlayerPush
trigger1 = time = [98,150]
value = 0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = animelem = 14
attr = S,SA
hitflag = MAFD
guardflag =
affectteam = E
animtype = Light
air.animtype = Light
fall.animtype = Back
priority = 4,Hit
damage = 35,10
pausetime = 10,10
sparkno = S4
guard.sparkno = S8
sparkxy = 10,-69
hitsound =  S1,1
guardsound = S3,0
sprpriority = -1
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 80
ground.velocity = 0,-10
air.velocity = 0,-10
ignorehitpause = 1
persistent = 1
fall = 1
fall.recover = 0
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4

[State 0, ]
type = VelSet
trigger1 = time = 77
x = 0
y = 15

[State 0, ]
type = PosAdd
trigger1 = time = 76
x = p2dist x - 20;-267
y = p2dist y - 310;65
;x = 0
;y = -530

[State 0, ]
type = HitDef
trigger1 = animelem = 18
attr = S,SA
hitflag = MAFD
guardflag =
affectteam = E
sprpriority = -1
animtype = Light
air.animtype = Light
fall.animtype = Back
priority = 4,Hit
damage = 50,45
pausetime = 18,10
sparkno = S4
guard.sparkno = S8
sparkxy = 0,-0
hitsound =  S1,1
guardsound = S3,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 80
ground.velocity = 0,30
air.velocity = 0,30
ignorehitpause = 1
persistent = 1
fall = 1
fall.recover = 0
envshake.time = 18
envshake.freq = 260
envshake.ampl = -12

[State 0, ]
type = SelfState
triggerall = movecontact = 0
trigger1 = animelem = 6
trigger2 = animelem = 9
trigger3 = animelem = 12
trigger4 = animelem = 15
trigger5 = animelem = 18
value = 1307

[State 0, ]
type = SelfState
trigger1 = win = 1
trigger2 = lose = 1
value = 1307

[State 0, ]
type = SelfState
trigger1 = animtime = 0
value = 1307

;--------------------------------------------------------------------------
;Super Combo 3
[Statedef 1307]
type    = A
movetype= I
physics = S
poweradd = -220
ctrl = 0
velset = 0,15,0
anim = 1307

[State 0, ]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ]
type = VelSet
trigger1 = pos y >= 0
x = 0
y = 0

[State 0, ]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = SelfState
trigger1 = pos y >= 0 && animtime = 0
value = 0
ctrl = 1

;----------------------------------------------------------

; Combo 2
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -500
ctrl = 0
velset = 5,0
anim = 1010

[State 1010, Velset]
type = VelSet
trigger1 = AnimElem = 1
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
x = 4
y = 0

[State 1010, Velset]
type = VelSet
trigger1 = AnimElem = 2
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
x = 4
y = 0

[State 1010, AfterImage]
type = AfterImage
trigger1 = Time = 4
time = 2
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 1010, AfterImageTime]
type = AfterImageTime
trigger1 = Time >= 4
time = 2
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 1010, Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1

[State 1010, Snd2]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
trigger2 = AnimElem = 4
value = S0,1
trigger3 = AnimElem = 6
value = S0,1

[State 1010, Velset]
type = VelSet
trigger1 = Time = 0
x = 7
y = 0

[State 1010, HitDef]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
attr = S, HP
animtype  = Hard
damage    = 20,5
guardflag = MA
pausetime = 0,8
sparkno = S11000
sparkxy = -10,-40
hitsound   = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0
fall = 0

[State 1010, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HP
animtype  = Hard
damage    = 40,10
guardflag = MA
pausetime = 0,8
sparkno = S11001
sparkxy = -10,-40
hitsound   = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 100
ground.hittime  = 100
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0
fall = 0

[State 1010, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1011
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

;---------------------------------------------------------------------
; Combo 2 Continue!
[statedef 1011]
type = S
Movetype = I
Physics = S
Anim = 1011
ctrl = 0

[state 1011, Snd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,10

[State 1011, Velset]
type = Velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[state 1011, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = 100
y = 0

[state 1011, Turn]
type = Turn
trigger1 = time = 17
value = 1

[state 1011, Changestate]
type = Changestate
trigger1 = animtime = 0
value = 1012
ctrl = 1

;---------------------------------------------------------------------
; Combo 2 Continues!
[Statedef 1012]
type = S
movetype = A
physics = N
juggle = 6
velset = 0,0
anim = 1012
ctrl = 0

[State 1012, VelMul]
type = VelMul
trigger1 = Time >= 0
x = .85 * ifelse (AnimElemTime(6) < 0, 1, .8)

[State 1012, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright = 10,10,10
PalContrast =  225,255,255
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.85
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1012, Afterimage]
type = AfterImageTime
trigger1 = (Time >= 0) && (AnimElemTime(8) < 0)
time = 2

[State 1012, PalFX]
type = PalFX
trigger1 = Time = 0
time = 20
add = 30,30,30
sinadd = 64,64,64,64

[State 1012, Snd]
type = PlaySnd
trigger1 = Time = 2
value = S0,1

[State 1012, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1012, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
x = 10

[State 1012, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 5

[State 1012, PosAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 13

[State 1012, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Hard
damage    = 80,10
priority  = 5
guardflag = MA
pausetime = 0,8
sparkno = S11000
sparkxy = -10,-40
hitsound   = S1,1
guardsound = S3,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 1025

[State 1012, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------
;Combo
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = -500
ctrl = 0
velset = 5,0
anim = 1000

[State 1000, VelSet]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
trigger4 = AnimElem = 8
trigger5 = AnimElem = 10
trigger6 = AnimElem = 12
trigger7 = AnimElem = 14
x = 5
y = 0

[State 1000, VelSet]
type = VelSet
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 7
trigger5 = AnimElem = 9
trigger6 = AnimElem = 11
trigger7 = AnimElem = 13
x = 5
y = 0

[State 1000, 2]
type = AfterImage
trigger1 = AnimElem = 1
time = 120
trans = add
PalContrast =  225,255,255
PalBright = 10,10,10

[State 1000, Snd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger2 = AnimElem = 8
trigger2 = AnimElem = 10
trigger2 = AnimElem = 12
trigger2 = AnimElem = 14
value = S0,2

[State 1000, Snd2]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,3
trigger2 = AnimElem = 4
value = S0,2
trigger3 = AnimElem = 6
value = S0,3
trigger4 = AnimElem = 8
value = S0,2
trigger5 = AnimElem = 10
value = S0,3
trigger6 = AnimElem = 12
value = S0,2
trigger7 = AnimElem = 14
value = S0,3

[State 1000, VelSet]
type = VelSet
trigger1 = Time = 0
x = 7
y = 0

[State 1000, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 9
trigger6 = AnimElem = 10
trigger7 = AnimElem = 12
trigger8 = AnimElem = 13
attr = S, HP
animtype  = Hard
damage    = 10,5
guardflag = MA
pausetime = 0,8
sparkno = s11000
sparkxy = -10,-46
hitsound   = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0
fall = 0

[State 1000, HitDef2]
type = HitDef
trigger1 = AnimElem = 14
attr = S, NA
damage   = 40,10
animtype = Hard
guardflag = MA
pausetime = 35,35
sparkno = s11001
sparkxy =  -10,-40
hitsound   = S1,0
guardsound = S0,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -9
air.velocity = -3,-9.5
airguard.velocity = -3.5
fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ABSORCION

[Statedef 1999]
type = S
physics = S
ctrl = 0
anim = 189
velset = 0,0,0

[State 1999, 1]
type = assertspecial
trigger1 = time = [0, 250]
flag = nomusic

[State 1999]
type = superpause
trigger1 = time = 0
time = 150
movetime = 150
anim = -1
darken = 0

[State 1999, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 7,2
volume = 255

[State 1999]
type = ChangeState
trigger1 = Time = 125
value = 2000
ctrl = 0

;---------------------------------------------------------------------------

;P2
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
velset = 0,0
anim = 2000
poweradd = ifelse(var(13) = 0,-1000,0)
sprpriority = 2

[State 1000, 1]
type = VarSet
trigger1 = Time = 0
v = 14
value = 0

[State -2]
type = VarAdd
trigger1 = time = 0 && var(13) > 0
v = 13
value = ifelse((prevstateno = 1100|prevstateno = 1110|prevstateno = 1200|prevstateno = 1210),-634,-352)

[State 2000, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;[State 2000, 1]
;type = assertspecial
;trigger1 = 1
;flag = nofg

[State 2000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2001

;---------------------------------------------------------------------------
; P1 atacando
[Statedef 2001]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 2001
poweradd = 0
sprpriority = 2

[State 2000, 1]
type = NotHitBy
trigger1 = animelemtime(2) < 0
value = SCA
time = 1

[State 2001, 2]
type = assertspecial
trigger1 = time < 1
flag = nofg

[State 2001, 1]
type = StateTypeSet
trigger1 = enemynear,movetype = H
trigger2 = enemynear,movetype = H && var(18) = 2
movetype = I

[State 2001, 1]
type = StateTypeSet
trigger1 = enemynear,movetype != H
trigger2 = enemynear,movetype = H && var(18) = 1
movetype = A

[State 2001, 1]
type = HitDef
Trigger1 = Time > 1
trigger1 = (enemynear,stateno != [130,155]) && enemynear,stateno != 40
trigger1 = var(17) = 0
attr = S, HT
damage = 80,20
hitflag = M
hitsound = s-1,0
sparkno = -1
numhits = 0
p2facing = 1
p1stateno = 2010
p2stateno = 2020
fall = 1
fall.recover = 0

[State 2001, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2002

;---------------------------------------------------------------------------
[Statedef 2002]
type    = S
movetype= I
physics = S
juggle  = 0
ctrl = 0
anim = 2002
poweradd = 0

[State 2002, 1]
type = VelSet
trigger1 = 1
x = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2002, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2010]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 2010
poweradd = 0
sprpriority = -2

[State 2010, PlaySND]
type = PlaySnd
trigger1 = Time = 0
value = 1730,0
volume = 170

[State 2010, 1]
type = width
trigger1 = 1
edge = 80,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 1
pos = 54,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 2
pos = 54,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 15
pos = 54,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 16
pos = 54,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 17
pos = 54,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 18
pos = 54,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 19|animelem = 21|animelem = 23|animelem = 25
trigger2 = animelem = 27|animelem = 29|animelem = 31|animelem = 33
pos = 54,0

[State 2010, 1]
type = TargetBind
trigger1 = animelem = 20|animelem = 22|animelem = 24|animelem = 26
trigger2 = animelem = 28|animelem = 30|animelem = 32|animelem = 34
pos = 54,0

[State 2010, 1]
type = TargetLifeAdd
trigger1 = animelem = 19|animelem = 21|animelem = 23|animelem = 25
trigger2 = animelem = 27|animelem = 29|animelem = 31|animelem = 32
trigger3 = animelem = 33|animelem = 34
value = -6
kill = 0

[State 2010, 1]
type = TargetState
trigger1 = animelem = 2
value = 2021

[State 2010, 1]
type = TargetState
trigger1 = animelem = 15
value = 2022

[State 2010, 1]
type = TargetState
trigger1 = animelem = 22
value = 2023

[State 2010, 1]
type = TargetState
trigger1 = animelem = 26
value = 2024

[State 2010, 1]
type = TargetState
trigger1 = animelem = 30
value = 2025

[State 2010, 1]
type = TargetState
trigger1 = animelem = 34
value = 2026

[State 2010, 2]
type = explod
trigger1 = animelemtime(30) = 25
anim = 18997
postype = p2
pos = -25,-55
ownpal = 1
sprpriority = 555
scale = 0.9,0.9

[State 2010, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 2011

;---------------------------------------------------------------------------
[Statedef 2011]
type    = S
physics = S
ctrl = 0
anim = 2011
poweradd = 0
sprpriority = 0

[State 2000, ]
type = PlaySnd
trigger1 = time = 0
value = 100,0

[State 2011, 1]
type = TargetState
trigger1 = time = 0
value = 2027

[State 2011, 1]
type = VelSet
trigger1 = 1
x = -3

[State 2011, 1]
type = VelSet
trigger1 = animtime = 0
x = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2011, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------
; P2
[Statedef 2020]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2020, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2020, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 2020

[Statedef 2021]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2021, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2021, 1]
type = ChangeAnim
triggerall = SelfAnimExist(9020)
triggerall = name != "C.Kidd"
trigger1 = authorname = "Bardock"|authorname = "Mouser"|authorname = "Hh"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "MINMEISYOBOU"|authorname = "Mr.X-file"|authorname = "GONZO-"
trigger5 = authorname = "NAO&M."|authorname = "Conversion World - J.Lee"|authorname = "Chloe"
trigger6 = authorname = "N64Mario"|authorname = "Ex-Inferis"
trigger7 = authorname = "wara"|authorname = "Rikard"|authorname = "[Yagami+ihoo1836]"
value = 9020+ifelse((name = "SVCKEN" && var(39) = 1)|(name = "svckarate" && var(12) = 0),10000,0)
elem = 1

[State 2021, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2020

[Statedef 2022]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2022, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2022, 1]
type = ChangeAnim
triggerall = SelfAnimExist(9020)
triggerall = name != "C.Kidd"
trigger1 = authorname = "bad darkness"|authorname = "Mouser"|authorname = "Hh"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "MINMEISYOBOU"|authorname = "Mr.X-file"|authorname = "GONZO-"
trigger5 = authorname = "NAO&M."|authorname = "Conversion World - J.Lee"|authorname = "Chloe"
trigger6 = authorname = "N64Mario"|authorname = "Ex-Inferis"
trigger7 = authorname = "wara"|authorname = "Rikard"|authorname = "[Yagami+ihoo1836]"
value = 9020+ifelse((name = "SVCKEN" && var(39) = 1)|(name = "svckarate" && var(12) = 0),10000,0)
elem = 2

[State 2022, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

[Statedef 2023]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -70,-70,-70

[State 2023, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2023, 1]
type = ChangeAnim
triggerall = SelfAnimExist(9020)
triggerall = name != "C.Kidd"
trigger1 = authorname = "bad darkness"|authorname = "Mouser"|authorname = "Hh"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "MINMEISYOBOU"|authorname = "Mr.X-file"|authorname = "GONZO-"
trigger5 = authorname = "NAO&M."|authorname = "Conversion World - J.Lee"|authorname = "Chloe"
trigger6 = authorname = "N64Mario"|authorname = "Ex-Inferis"
trigger7 = authorname = "wara"|authorname = "Rikard"|authorname = "[Yagami+ihoo1836]"
value = 9020+ifelse((name = "SVCKEN" && var(39) = 1)|(name = "svckarate" && var(12) = 0),10000,0)
elem = 3

[State 2023, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

[Statedef 2024]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -100,-100,-100

[State 2024, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2024, 1]
type = ChangeAnim
triggerall = SelfAnimExist(9020)
triggerall = name != "C.Kidd"
trigger1 = authorname = "bad darkness"|authorname = "Mouser"|authorname = "Hh"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "MINMEISYOBOU"|authorname = "Mr.X-file"|authorname = "GONZO-"
trigger5 = authorname = "NAO&M."|authorname = "Conversion World - J.Lee"|authorname = "Chloe"
trigger6 = authorname = "N64Mario"|authorname = "Ex-Inferis"
trigger7 = authorname = "wara"|authorname = "Rikard"|authorname = "[Yagami+ihoo1836]"
value = 9020+ifelse((name = "SVCKEN" && var(39) = 1)|(name = "svckarate" && var(12) = 0),10000,0)
elem = 4

[State 2024, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

[Statedef 2025]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -130,-130,-130

[State 2025, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2025, 1]
type = ChangeAnim
triggerall = SelfAnimExist(9020)
triggerall = name != "C.Kidd"
trigger1 = authorname = "bad darkness"|authorname = "Mouser"|authorname = "Hh"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "MINMEISYOBOU"|authorname = "Mr.X-file"|authorname = "GONZO-"
trigger5 = authorname = "NAO&M."|authorname = "Conversion World - J.Lee"|authorname = "Chloe"
trigger6 = authorname = "N64Mario"|authorname = "Ex-Inferis"
trigger7 = authorname = "wara"|authorname = "Rikard"|authorname = "[Yagami+ihoo1836]"
value = 9020+ifelse((name = "SVCKEN" && var(39) = 1)|(name = "svckarate" && var(12) = 0),10000,0)
elem = 5

[State 2025, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

[Statedef 2026]
type    = A
movetype= H
physics = N
sprpriority = 4

[State 2020, 1]
Type = Defencemulset
trigger1 = 1
Value = 1.0

[State 2023, 1]
type = PalFX
trigger1 = time >= 0 && anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
time = 1
add = -160,-160,-160

[State 2026, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 2026, 1]
type = ChangeAnim
triggerall = SelfAnimExist(9020)
triggerall = name != "C.Kidd"
trigger1 = authorname = "bad darkness"|authorname = "Mouser"|authorname = "Hh"|authorname = "adamskie"
trigger2 = authorname = "Tin"|authorname = "Warusaki3"|authorName = "ryokucha"|authorname = "M.M.R."
trigger3 = authorname = "keyu"|authorname = "Third"|authorname = "CAMRAT Type KOF"
trigger4 = authorname = "MINMEISYOBOU"|authorname = "Mr.X-file"|authorname = "GONZO-"
trigger5 = authorname = "NAO&M."|authorname = "Conversion World - J.Lee"|authorname = "Chloe"
trigger6 = authorname = "N64Mario"|authorname = "Ex-Inferis"
trigger7 = authorname = "wara"|authorname = "Rikard"|authorname = "[Yagami+ihoo1836]"
value = 9020+ifelse((name = "SVCKEN" && var(39) = 1)|(name = "svckarate" && var(12) = 0),10000,0)
elem = 6

[State 2026, 1]
type = ChangeAnim2
Trigger1 = anim != 9020+ifelse((authorname = "Hh" && name = "SVCKEN" && var(39) = 1)|(authorname = "Warusaki3" && name = "svckarate" && var(12) = 0),10000,0)
value = 2021

[Statedef 2027]
type    = A
movetype= H
physics = N

[State 2027, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2027, 1]
type = LifeAdd
trigger1 = time = 0
value = -200

[State 2027, 1]
type = posadd
Trigger1 = Time = 0
y = 0

[State 2027, 1]
type = Velset
Trigger1 = Time = 0
x = 0
y = -7

[State 2027, 1]
type = Velset
Trigger1 = vel x >= -4
x = -4

[State 2027, 2]
type = VelAdd
trigger1 = time >= 0 && vel x < -4
x = 1

[State 2027, 2]
type = VelAdd
trigger1 = 1
y = .53

[State 2027, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimExist(5035)
value = 5035

[State 5050, 1]
type = ChangeAnim
trigger1 = anim = 5035 && animtime = 0
trigger2 = time = 0 && !SelfAnimExist(5035)
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100
;---------------------------------------------------------------------------
;Weak Fireball 1
[Statedef 10000]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 10000

[State 10000, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -6

[State 10000, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1000, Sound]
type = PlaySnd
trigger1 = time = 5
value = 10000,0

[State 10000, Ring]
type = Explod
trigger1 = time = 5
Anim = 12010
Pos = 51, -50
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1000, Projectile]
type = Projectile
trigger1 = Time = 5
ProjAnim = 12111
ProjHitAnim = 18998
ProjRemAnim = 18998
projid = 18998
projscale = 0.7, 0.60
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 68, -50
velocity = 10, 0
remvelocity = .7, 0
accel = -0.02, 0.05
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
airguard.velocity = -5.5
air.type = Low
air.velocity = -6.5,-4.5
air.juggle = 3

[State 1000, VarSet]
type = VarSet
trigger1 = time = 0
v = 14
value = 0

[State 1000, VarSet]
type = VarSet
triggerall = (Var(14) = 0 && time > 1)
trigger1 = (command = "x" || command = "y") || Var(39) = 1
v = 14
value = 1

[State 1000, Next]
type = ChangeState
trigger1 = Time >= 12 && Var(14) = 1 && power > 0
value = 1001
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1000, End]
type = ChangeState
trigger1 = animtime = 0
trigger2 = power < 50
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 2
[Statedef 1001]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1002

[State 1001, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -13

[State 1001, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1001, Sound]
type = PlaySnd
trigger1 = time = 1
value = 10000,0

[State 1001, Ring]
type = Explod
trigger1 = time = 1
Anim = 12010
Pos = 51, -50
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1001, Projectile]
type = Projectile
trigger1 = Time = 1
ProjAnim = 12111
ProjHitAnim = 18998
ProjRemAnim = 18998
projid = 18998
projscale = 0.7, 0.60
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 68, -50
velocity = 10, 2.4
remvelocity = .7, 0
accel = -0.02, -0.085
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
airguard.velocity = -5.5
air.type = Low
air.velocity = -4.8,-2.9
air.juggle = 3

[State 1001, VarSet]
type = VarSet
triggerall = (Var(14) = 1 && time > 1)
trigger1 = (command = "x" || command = "y") || Var(39) = 1
v = 14
value = 2

[State 1001, Next]
type = ChangeState
trigger1 = animtime = 0 && Var(14) = 2 && power > 0
value = 1002
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1000, End]
type = ChangeState
trigger1 = animtime = 0
trigger2 = power < 50
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball 3
[Statedef 1002]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1001

[State 1002, PowerAdd]
Type = PowerAdd
Trigger1 = time >= 1
value = -13

[State 1002, VelSetY]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 1002, Sound]
type = PlaySnd
trigger1 = time = 1
value = 10000,0

[State 1002, Ring]
type = Explod
trigger1 = time = 1
Anim = 12010
Pos = 51, -50
Id = 12010
sprpriority = 3
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.50, 0.50

[State 1002, Projectile]
type = Projectile
trigger1 = Time = 1
ProjAnim = 12111
ProjHitAnim = 18998
ProjRemAnim = 18998
projid = 18998
projscale = 0.70, 0.60
;ProjStageBound = 40
;ProjEdgeBound = 40
;ProjHeightBound = -240, 1
offset = 68, -50
velocity = 10, -1.0
remvelocity = .7, 0
accel = -0.02, 0.06
attr = S, SP
damage    = 23,4
animtype  = Medium
getpower  = 0
givepower = 30
guardflag = MA
pausetime = 0,12
sparkno = -1
sparkxy = 0, 0
hitsound   = S1100,0
guardsound = S1100,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6
airguard.velocity = -5.5
air.type = Low
air.velocity = -4.5,-2.5
air.juggle = 3

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1000, VarSet]
type = VarSet
triggerall = (Var(14) = 0 && time > 1)
trigger1 = (command = "x" || command = "y") || Var(39) = 1
v = 14
value = 2

[State 1001, Next]
type = ChangeState
trigger1 = animtime = 0 && Var(14) = 2 && power > 0
value = 10000
ctrl = 1

[State 1000, End]
type = ChangeState
trigger1 = animtime = 0
trigger2 = power < 50
value = 1003
ctrl = 1
;---------------------------------------------------------------------------
;Weak Fireball End
[Statedef 1003]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1003

[State 1003, Tired]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1003, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Cargar ki
[Statedef 5040]
type = S
movetype= I
physics = S
juggle = 9
velset = 0,0
ctrl = 0
anim = 5040;5040; animacion del char haciendo carga de ki
poweradd = 0

[State 5040,Poweradd]
type = Poweradd
trigger1 = Time >= 0
value = 5

[State 5040,AURA];Aura
type			= Explod
trigger1		= animelem = 2
anim			= 15070
id			= 15070
pos			= 3,2
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.52,0.50
sprpriority		= -1
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 5040,RING];RING
type			= Explod
trigger1		= animelem = 2
triggerall = pos y = 0
anim			= 10010
id			= 10010
Pos = -6, 26
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale = 0.96, 0.93
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 5040]
type			= Explod
trigger1		= animelem = 2
triggerall = pos y = 0
anim			= 7520
id			= 7520
Pos = -46, 0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale = 1,1
sprpriority		= -1
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 5040,RING];RING
type			= Explod
trigger1		= animelem = 2
triggerall = pos y = 0
anim			= 7522
id			= 7522
pos= 34,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale = 1,1
sprpriority		= -1
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


;[State 5040]
;type = Explod
;trigger1 =  time = 0 ;AnimElem = 5
;anim = 9430
;Pos = -25, 20
;ID = 9430
;postype = p1
;facing = 1
;bindtime = -1
;scale = .95,.95
;removetime = -2
;sprpriority = 4
;ownpal = 1

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 10
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = time = 0
v = 11
value = 0

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = -60
v = 11
value = 1

[State 1701, VarSet]
type = Varset
trigger1 = Var(10) = 0
v = 11
value = 0

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 0
v = 10
value = -1

[State 1701, VarAdd]
type = VarAdd
trigger1 = time >= 50 && Var(11) = 1
v = 10
value = 1

[state 1701, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(10),Var(10),Var(10)

[State 1701, Shake]
type = EnvShake
trigger1 = time >= 100
trigger1 = Timemod = 8,0
Time = 8
freq = 60
ampl = -2
phase = 0

[State 5040]
type			= RemoveExplod
id			= 15070
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040]
type			= RemoveExplod
id			= 7520
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040]
type			= RemoveExplod
id			= 7522
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040]
type			= RemoveExplod
id			= 10010
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 5040;(Time = 90)
trigger1 = time >= 0
value = 0; ir a stand
ctrl = 1

[State 5040, PlaySND]
type = playsnd
trigger1 = animelem = 2
value = 730,2
volume = 255

[State 5040];
type = PlaySnd
trigger1 = (Time > 2) && ((GameTime%50) = 0)
value = 730,1
volume = 255

;;flash blanco
;[State 5041,Envcolor]
;type = Envcolor
;id = 5040,1
;trigger1 = time = 0
;time = 5

[State 5041,desaparece ki]
type = playsnd
trigger1 = Time = 1
value = 730,2
volume = 255

[State 1701, RockPosition]
type = VarRandom
trigger1 = time >= 0
v = 15
range = -240,240

[State 1701, RockAnimation]
type = VarRandom
trigger1 = time >= 0
v = 16
range = 0,11

[State 1701, RockHelper0]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,0
trigger1 = random <= 100 && NumHelper(15200) = 0
name = "Rock00"
stateno = 15200
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15200
size.xscale = IfElse(Random >= 500, 0.75, 1)
size.yscale = IfElse(Random >= 500, 0.75, 1)

[State 1701, RockHelper1]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,1
trigger1 = random <= 100 && NumHelper(15201) = 0
name = "Rock01"
stateno = 15201
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15201
size.xscale = IfElse(Random >= 500, 0.70, 0.95)
size.yscale = IfElse(Random >= 500, 0.70, 0.95)

[State 1701, RockHelper2]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,2
trigger1 = random <= 100 && NumHelper(15202) = 0
name = "Rock02"
stateno = 15202
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15202
size.xscale = IfElse(Random >= 500, 0.75, 0.9)
size.yscale = IfElse(Random >= 500, 0.75, 0.9)

[State 1701, RockHelper3]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,3
trigger1 = random <= 100 && NumHelper(15203) = 0
name = "Rock03"
stateno = 15200
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15203
size.xscale = IfElse(Random >= 500, 0.75, 1)
size.yscale = IfElse(Random >= 500, 0.75, 1)

[State 1701, RockHelper4]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,4
trigger1 = random <= 100 && NumHelper(15204) = 0
name = "Rock04"
stateno = 15201
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15204
size.xscale = IfElse(Random >= 500, 0.70, 0.95)
size.yscale = IfElse(Random >= 500, 0.70, 0.95)

[State 1701, RockHelper5]
type = Helper
triggerall = time >= 100 && Pos Y = 0 && timemod = 3,5
trigger1 = random <= 100 && NumHelper(15205) = 0
name = "Rock05"
stateno = 15202
postype = p1
pos = Var(15), 0
keyctrl = 0
ownpal = 1
id = 15205
size.xscale = IfElse(Random >= 500, 0.75, 0.90)
size.yscale = IfElse(Random >= 500, 0.75, 0.90)


[State 5041,Remover Aura]
type = ChangeState
trigger1 = (command != "charge") || (command != "charge 1")
value = 5042

[Statedef 5042]
type = S
movetype = I
physics = S
anim = 5040
ctrl = 0
poweradd = 0
juggle = 0
sprpriority = 1

[State 5042,fin]
type = playsnd
trigger1 = Time = 0
value = 730,2
volume = 255

[State 5042,Remover Aura]
type = ChangeState
trigger1 = (command != "charge") || (command != "charge 1")
value = 0
ctrl = 1

;--------------------------------------------------------------
; Viento 2
[Statedef 2500]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2500
ctrl = 0

[State 2500,Crtl]
type = CtrlSet
trigger1 = Time >= 32
value = 1

[State 2500,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2800,0

[State 2500, 1]
type = Projectile
trigger1 = AnimElem = 1
projanim = 2550
projhits = 3
projmisstime = 4
projremove = 0
projpriority = 30
projremovetime = 40
projid = 2550
velocity = 0,0
offset = 59,3
attr = S, SA
animtype  = Hard
damage    = 21,11
getpower  = -20
sparkno = -1
sparkxy = 999,999
priority  = 6
guardflag = MA
pausetime = 0,15
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 2
ground.hittime  = 11
ground.velocity = -0.1,-10.4
air.velocity = -0.1,-10.4
fall.animtype = Hard
fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2500,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------

; Viento
[Statedef 2600]
type    = S
movetype= A
physics = S
poweradd= -150
velset = 0,0
anim = 2600
ctrl = 0

[State 2600,Crtl]
type = CtrlSet
trigger1 = Time >= 42
value = 1

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 2800,0

[State 2600, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 2650
projhits = 4
projmisstime = 4
projremove = 0
PROJSCALE = 0.68,0.72
projpriority = 30
projremovetime = 60
projid = 2650
velocity = 0,0
offset = 59,3
attr = S, SA
animtype  = Hard
damage    = 27,11
getpower  = -30
sparkno = -1
sparkxy = 999,999
priority  = 6
guardflag = MA
pausetime = 0,15
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 2
ground.hittime  = 11
ground.velocity = -0.1,-10.4
air.velocity = -0.1,-10.4
fall.animtype = Hard
fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
;Taioken
[Statedef 3000]
type    = S
movetype= A
physics = S
poweradd= -300
ctrl = 0
velset = 0,0,0
anim = 3000

[State 920, 1]
type = allpalfx
trigger1 = time = 0
trigger2 = time = 30
trigger3 = time = 60
time = 30
add = 0,0,0
sinadd = 255,255,255,60

[State 3000, Taioken]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0
volume = 255

[State 3000, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 3010
projhitanim = -1
projremovetime = 15
offset = 0, 0
velocity = 0, 0
attr = S, NA
damage    = 0
animtype = Medium
guardflag = MA
pausetime = 0,250
sparkxy = 9999, 9999
sparkno = -1
guard.sparkno = -1
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 16
ground.velocity = 0
air.animtype = Back
air.velocity = 0
air.juggle = 3

[State 1500, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 3000, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = power = 0
value = 5300
ctrl = 0

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 3000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------
;-------------------------------------------------------
;Makankosapo
[Statedef 2700]
type = S
;movetype = A
physics = S
ctrl = 0
velset = 0,0,0

[State 1999, 1]
type = assertspecial
trigger1 = time = [0, 390]
flag = nomusic

[State 2700]
type = superpause
trigger1 = time = 0
time = 155
movetime = 155
anim = -1
darken = 0

[State 2700: Ki]
type = Explod
trigger1 = time = 0
triggerall = p2bodydist y = 0
anim = 9050
ID = 9050
pos = 20,5
postype = p1
facing = 1
bindtime = -1
scale = .6,.6
supermove = -1
removeongethit = 1
sprpriority = 1

[State 2700: Ki]
type = Explod
trigger1 = time = 0
triggerall = p2bodydist y = 0
anim = 9050
ID = 9050
pos = -30,5
postype = p1
facing = -1
bindtime = -1
scale = .6,.6
supermove = -1
removeongethit = 1
sprpriority = 1

[State 12100, ElecA]
type = Explod
trigger1 = time = 0
Anim = 997
Pos = -5,-12
Id = 997
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60

[State 12100, ElecB]
type = Explod
trigger1 = time = 26
Anim = 998
Pos = -12,22
Id = 998
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60

[State 12100, ElecC]
type = Explod
trigger1 = time = 50
Anim = 999
Pos = -17,-11
Id = 999
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 24
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60

[State 12100, ElecD]
type = Explod
trigger1 = time = 76
Anim = 996
Pos = 9,-12
Id = 996
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60

[State 12100, ElecE]
type = Explod
trigger1 = time = 105
Anim = 995
Pos = 9,-11
Id = 995
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 24
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60

[State 12100, ElecA]
type = Explod
trigger1 = time = 132
Anim = 997
Pos = -5,-12
Id = 997
velocity = 0,0
sprpriority = 3
removeongethit = 1
removetime = 26
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.60, 0.60

[State 2700:	EnvShake]
type= EnvShake
trigger1= (AnimElem = 2, > 0) && ((GameTime%5) = 0)
time= 10
freq= 140
ampl= -3
phase= 90

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 1
time = 278
color = 0

[State 2700, 2]
type = changeanim
trigger1 = time = 0
value = 2700

[State 2700: Ki]
type = Explod
trigger1 = TIME = 30
anim = 25
ID = 25
pos = 4,-48
postype = p1
facing = 1
bindtime = -1
scale = .23,.23
supermove = -1
removeongethit = 1
sprpriority = 1

[State 2700,1]
type = playsnd
trigger1 = time = 20
value = 2700,0
volume = 255
channel = 1
removeongethit = 1

[State 2500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = time > 240
trigger1 = command = "z"
value = 2710
ctrl = 0

[State 2700, 0]
type = changestate
trigger1 = time = 160
value = 2710
ctrl = 0

;Shoot
[Statedef 2710]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0

[State 2501, 2]
type = changeanim
trigger1 = time = 0
value = 2710

[State 2710,9]
type = playsnd
trigger1 = AnimElem = 2
value = 2710,0
volume = 255

[State 2710, 4]
type = poweradd
trigger1 = time > 0
value = -6

[State 2710, Beam]
type = Projectile
trigger1 = AnimElem = 2
getpower  = -20
projanim = 2715
projhitanim = -1
projpriority = 5
projremovetime = 115
projid = 2715
projhits = 41
projmisstime = 1
numhits = 1
velocity = 0
accel = 0
offset = 48,-73
attr = S, NA
damage   = 13,5
animtype = MEDIUM
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S1100,2
sparkno = -1
guard.sparkno =-1
sparkxy = -10,-46
guardsound = S1100,2
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -8
air.animtype = High
air.velocity = -2
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255

[State 700, 3]
type=ChangeState
trigger1=Time=120
trigger1=Pos Y < 0
value=1500

[State 2610, 6]
type = changestate
trigger1 = time = 120
value = 0
ctrl = 1

;[State 2610, 6]
;type = changestate
;trigger1 = animtime = 0
;trigger1 = power = 0
;value = 5300
;ctrl = 0

;------------------------------------------------------------

[Statedef 1200]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -600
anim = 1200

;[State 1200];sonido grito
;type = PlaySnd
;trigger1 = animelem = 2
;value = 3,0

[State 1200];disco
type = PlaySnd
trigger1 = animelem = 1
value = 1200,0


[State 1200]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "KIENSAN"
id = 1200
pos = 80,-45
size.xscale = 0.75
size.yscale = 0.75
stateno = 1201
keyctrl = 1
ownpal = 1

[State 1200, disco]
type			= Explod
trigger1		= animelem = 1
anim			= 7190
id			= 7190
pos			= 24,-80
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 30
supermove		= 999
supermovetime	= 999
pausemovetime	= 999
scale			= 0.75,0.70
sprpriority		= 20
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
persistent		= 0
ignorehitpause	= 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;--------------------------------------------------
;Kiensan
[Statedef 1201]
type 			= A
movetype		= A
physics		= N
anim			= 7190
;velset		= 0,0
ctrl			= 0
poweradd		= -120
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 1201,0]
type = PlaySnd
trigger1 = animelem = 1
value = 1200,1

[State 1201,1]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1201,2]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= IfElse(Random <= 499,-0.75,-0.75)


[State 1201,BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1201,3];assertSpecial
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1


[State 1201,explosion]
type			= Explod
trigger1		= MoveContact
anim			= 18998
id			= 18998
pos			= 10,-50
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1201,HitDef]
type = HitDef
trigger1 = time = 0
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 140,10
pausetime = 5,10
ground.type = high
ground.velocity = -5,0
air.velocity = -5,0
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0

[State 1201,Autodestruccion]
type			= DestroySelf
trigger1		= time = 120 ; destruirse al pasar 120 tics.
ignorehitpause	= 1

;-----------------------------------------------------------------------------------------------
;Kame Hame Ha
[Statedef 3500]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0

[State 3500, 2]
type = changeanim
trigger1 = time = 0
value = 3500

[State 3500: magia]
type = Explod
trigger1 = (Time = 20)
anim = 2610
ID = 2610
pos = -27,-40
postype = p1
facing = 1
bindtime = -1
removetime = 145
supermove = -1
removeongethit = 1
sprpriority = 3

[State 3500: magia]
type = Explod
trigger1 = (Time = 20)
triggerall = P2BodyDist y = 0
anim = 888
ID = 8888
pos = 0,0
postype = p1
scale = 0.8,0.8
facing = 1
bindtime = -1
removetime = 150
supermove = -1
ontop = 0
removeongethit = 1
sprpriority = 0

[State 3500: magia]
type = Explod
trigger1 = (Time = 50)
anim = 2605
ID = 2605
pos = -27,-40
postype = p1
facing = 1
bindtime = -1
removetime = 120
supermove = -1
removeongethit = 1
sprpriority = 2

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 10
time = 280
color = 0

[State 3050,2]
type = AfterImage
trigger1 = Time = 10
time = 20
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 3500,1]
type = playsnd
trigger1 = AnimElem = 1
value = 5,1
volume = 455
channel		= 1

[State 3500;  Snd]
type			= StopSnd
trigger1 = (life = 0) || stateno != 2500
channel		= 1

[State 3500, 5]
type = changestate
triggerall = var(1) != 3
trigger1 = p2bodydist Y > -60
trigger1 = p2bodydist Y < 60
trigger1 = animtime = 0
value = 2501
ctrl = 0

[State 3500, 6]
type = changestate
triggerall = var(1) != 3
trigger1 = p2bodydist Y > 60
trigger1 = animtime = 0
value = 2503
ctrl = 0

[State 3500, 6]
type = changestate
triggerall = var(1) != 3
trigger1 = p2bodydist Y < -60
trigger1 = animtime = 0
value = 2502
ctrl = 0

[State 3500, 1]
type = assertspecial
trigger1 = time = 0
flag = nomusic

;[State 3500, 2]
;type = playsnd
;trigger1 = time = 0
;value = 5,0  ;cargando kame

[State 3500, 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 0

;Shoot
[Statedef 2501]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0

[State 2501, 2]
type = changeanim
trigger1 = time = 0
value = 2501

[State 2501,9]
type = playsnd
trigger1 = AnimElem = 1
value = 5,0
volume = 255

[State 1900, 4]
type = poweradd
trigger1 = time > 0
value = -10

[State 2501, Beam]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 2515
projhitanim = -1
projpriority = 5
projremovetime = 80
projid = 2515
projhits = 120
projmisstime = 2
numhits = 4
velocity = 0
accel = 0
offset = 27,-53
attr = S, NA
damage   = 10,8
animtype = Hard
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S15,0
sparkno = -1
guard.sparkno = -1
guardsound = S16,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -8
air.animtype = High
air.velocity = -2
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255

[State 2501]
type = explod
trigger1 = projcontact(9878) = 1
anim = 9879
pos = -24,-52
postype = p2
sprpriority = 1
bindtime = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2500, 6]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2500, 6]
type = changestate
trigger1 = animtime = 0
trigger1 = power = 0
value = 5300
ctrl = 1

;Shoot Up
[Statedef 2502]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0

[State 2502, 2]
type = changeanim
trigger1 = time = 0
value = 2502

[State 2502,9]
type = playsnd
trigger1 = AnimElem = 1
value = 5,0
volume = 255

[State 2502, 4]
type = poweradd
trigger1 = time > 0
value = -10

[State 2502, 5]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 2516
projhitanim = -1
projpriority = 5
projremovetime = 80
projid = 2516
projhits = 120
projmisstime = 2
numhits = 4
velocity = 0
accel = 0
offset = 24,-65
attr = S, NA
damage   = 10,8
animtype = Hard
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S15,0
sparkno = -1
guard.sparkno = -1
guardsound = S16,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -8
air.animtype = High
air.velocity = -2
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2502, 6]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2502, 6]
type = changestate
trigger1 = animtime = 0
trigger1 = power = 0
value = 5300
ctrl = 1

;Shoot Down
[Statedef 2503]
type = S
movetype = A
physics = S
velset = 0,0,0
ctrl = 0

[State 2503, 2]
type = changeanim
trigger1 = time = 0
value = 2503

[State 2503,9]
type = playsnd
trigger1 = AnimElem = 1
value = 5,0
volume = 255

[State 2503, 4]
type = poweradd
trigger1 = time > 0
value = -10

[State 2503, 6]
type = envcolor
trigger1 = win = 1
value = 255,255,255
time = 72
under = 1

[State 2503, 5]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 2517
projhitanim = -1
projpriority = 5
projremovetime = 80
projid = 2517
projhits = 120
projmisstime = 2
numhits = 4
velocity = 0
accel = 0
offset = 15,-42
attr = S, NA
damage   = 10,8
animtype = Hard
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S15,0
sparkno = -1
guard.sparkno = -1
guardsound = S16,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -8
air.animtype = High
air.velocity = -2
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2503, 6]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 2503, 6]
type = changestate
trigger1 = animtime = 1
trigger1 = power = 0
value = 5300
ctrl = 1
;-------------------------------------------------------------
;rayo 1
[Statedef 700]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 700
poweradd= -600


[State 700:	StopSnd]
type			= StopSnd
trigger1 = Time =0
channel		= 1

[State 700, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 915,0
volume = 255

[State 730, RemoveAura]
type = RemoveExplod
ID = 708
trigger1 = Time = 0

[State 700, Magia]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 706
projhitanim = 4
projpriority = 1
projremovetime = 50
projid = 706
projhits = 10
projscale =  1.4,0.81
projmisstime = 1
velocity = 0,0
accel = 0
offset = 87,-53
attr = S, HA;S, NA
damage   = 13,1
animtype = HARD
guardflag = MA
hitflag = MAFP
pausetime = 0,15
hitsound   = S701,0
sparkno = -1
guard.sparkno = -1
guardsound = S1791,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = -1,0
air.animtype = High
air.velocity = -2,-1
air.juggle = 2
palfx.time = 25
palfx.add = 0,128,255


[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 0

[State 700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;rayo 2
[Statedef 710]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 710
poweradd= -600

[State 710:	StopSnd]
type			= StopSnd
trigger1 = Time =0
channel		= 1

[State 710, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 915,0
volume = 255

[State 730, RemoveAura]
type = RemoveExplod
ID = 708
trigger1 = Time = 0

[State 710, Magia]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 706
projhitanim = 4
projpriority = 30
projremovetime = 50
projscale =  1.4,0.81
projhits = 10
projmisstime = 1
velocity = 0,0
accel = 0
offset = 85,-35
attr = S, HA;S, NA
damage   = 13,1
animtype = HARD
guardflag = MA
hitflag = MAFP
pausetime = 0,15
hitsound   = S701,0
sparkno = -1
guard.sparkno = -1
guardsound = S1791,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = -1,0
air.animtype = High
air.velocity = -2,-1
air.juggle = 2
palfx.time = 25
palfx.add = 0,128,255


[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 0

[State 710, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------

; rayo 3
[Statedef 750]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 750
poweradd= -600


[State 750:	StopSnd]
type			= StopSnd
trigger1 = Time =0
channel		= 1

[State 750, PlaySND]
type = PlaySnd
trigger1 = AnimElem = 2
value = 915,0
volume = 255

[State 730, RemoveAura]
type = RemoveExplod
ID = 708
trigger1 = Time = 0


[State 710, Magia]
type = Projectile
trigger1 = AnimElem = 1
getpower  = 0
projanim = 730
projhitanim = 4
projpriority = 30
projremovetime = 50
projscale =  1.8,0.81
projid = 730
projhits = 10
projmisstime = 1
velocity = 0,0
accel = 0
offset = 89,-75
attr = S, HA;S, NA
damage   = 13,1
animtype = HARD
guardflag = MA
hitflag = MAFP
pausetime = 0,15
hitsound   = S701,0
sparkno = -1
guard.sparkno = -1
guardsound = S1791,0
ground.type = High
ground.slidetime = 1
ground.hittime  = 20
ground.velocity = -1,0
air.animtype = High
air.velocity = -2,-1
air.juggle = 2
palfx.time = 25
palfx.add = 0,128,255


[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 750, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 0

;--------------------------------------------------------
;KI Ball
; CNS difficulty: easy
[Statedef 4040]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= -420
ctrl = 0
velset = 0,0
anim = 18995
sprpriority = 2

[State 4040, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5, 5

[State 4040, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 60
guardflag = MA
pausetime = 11,13
sparkno = 0
sparkxy = -10,-34
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 13
ground.hittime  = 11
ground.velocity = -8
air.velocity = -2.5,-3.5

[State 4040, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 4040, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1500
ctrl = 0

[State 4040, Laser.Helper]
type = Helper
trigger1 = AnimElem = 2
name = "Laser"
stateno = 4050
size.xscale = 1.2
postype = p1
pos = 54, -53
keyctrl = 0
ownpal = 1
id = 4050

;---------------------------------------------------------------------------
;Super Ki Ball FX
[StateDef 4050]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 18996
ctrl = 0
sprpriority = 3
juggle = 5

[State 4050, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 3
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 128,128,128
paladd = 0,0,0
timegap = 2
framegap = 2
trans = Add

[State 4050, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 4050, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 4050]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 4050, Penetration]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
Damage = 134,15
guardflag = MA
pausetime = 5,15
sparkno = S18997
guard.sparkno = S18997
sparkxy = -20,10
hitsound   = S3,3
guardsound = S3,3
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -4, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 4050, Next]
type = null;Changestate
trigger1 = Movecontact
value = 4060

[State 4050, DestroySelf]
type = DestroySelf
trigger1 = time = 77 || movecontact


;---------------------------------------------------------------------------
; Ki ball Hit
[StateDef 4060]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 18960
ctrl = 0
sprpriority = 7

[State 4060, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 4060, NoHit]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 4060]
type = assertspecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 4060, DestroySelf]
type = DestroySelf
trigger1 = time = 0

;---------------------------------------------------------------------------

;super jump
[Statedef 707]
type=A
movetype=I
physics=A
velset=0,0
ctrl=1

[State 0, ]
type = Explod
trigger1 = !time
anim = 8901
ID = 8901
pos = 0,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 610, 2]
type = PlaySnd
trigger1 = time = 2
value = 1600,1

[State 0]
type=Veladd
trigger1=Vel X>=0 && vel x<4 && vel y<0
trigger1=command="holdfwd"
x=2.4

[State 0]
type=Veladd
trigger1=Vel X<=0 && vel x>-4 && vel y<0
trigger1=command="holdback"
x=-2.4

[State x]
type=Veladd
trigger1=(command !="holdback") && (command !="holdfwd")
x=ifelse(Vel X<0,0.2,ifelse(Vel X>0,-0.2,0))

[State 0]
type=VelSet
trigger1=!time
x=const(velocity.jump.neu.x)
y=-16.0

[State 50,2]
type=ChangeAnim
trigger1=!time
value=ifelse(vel x=0,41,ifelse(vel x>0,42,43))

[State 50,3]
type=ChangeAnim
trigger1=Vel y>-2
trigger1=SelfAnimExist(anim+3)
persistent=0
value=Anim+3

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(p2bodydist y<-50)&&(vel y>0)
value=551
ctrl=1

[State 0]
type=ChangeState
trigger1=(var(59)>0)&&(random>100)&&(p2bodydist x=[0,30])&&(p2bodydist y=[-70,0])
value=ifelse(random>500,410,ifelse(random>500,430,ifelse(random>500,440,ifelse(random>500,450,400))))

[State 0]
type=ChangeState
trigger1=time>10
trigger1=pos y>=0
value=50
;ctrl=1

[State 500, 1]
type = AfterImage
trigger1 = time = 0
time = 23
length = 5
palcontrast = 255+(var(25)=3)*50,255+(var(25)=3)*50,255-(var(25)=3)*100
paladd = -25+(var(25)=3)*15,-25+(var(25)=3)*15,-10-(var(25)=3)*15
palmul = .65+(var(25)=3)*.1,.65+(var(25)=3)*.1,.75-(var(25)=3)*.1
timegap = 2
framegap = 1
trans = add

;---------------------------------------------------------------------------

;Rayo salto
[Statedef 666]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= -50
ctrl = 0
anim = 666
sprpriority = 2

[State 0: VelSet]
type = VelSet
trigger1 = time < 16
x= 0
y= 0

[State 610, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 10000,0

[State 1437, Ring]
type = Explod
trigger1 = time = 1
Anim = 12160
Pos = 38, -55
Id = 12160
sprpriority = 7
removeongethit = 1
removetime = 12
Postype = p1
Bindtime = 1
SuperMove = 1
ownpal = 1
scale = 0.5, 0.5

[State 666, dan]
type = Projectile
trigger1 = AnimElem = 2
projanim = 605
projhitanim = 606
projpriority = 4
projremovetime = 100
projid = 1001
projscale = 0.7,0.65
velocity = 8,8
accel = .2
offset = 54,-26
attr = S, SP
damage   = 10,10
animtype = hard
guardflag = MA
hitflag = MAFP
pausetime = 0,3
hitsound   = S1100,0
guardsound = S1100,0
sparkno = S18998
sparkxy = 45,12
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.animtype = Low
air.velocity = -1,-1
air.juggle = 2

[State 1000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------
;Genkidama
[Statedef 1900]
type    = S
movetype= A
physics = S
poweradd= -3000
ctrl = 0
anim = 1900
velset = 0

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 1
time = 520
color = 0

[State 2999, 1]
type = SuperPause
trigger1 = Time = 0
time = 360
Pos = 99999, -99999
movetime = 350
Darken = 0

[State 1700, ball]
type = Explod
trigger1 = AnimElem = 2
anim = 1905
pos = 5,-290
velocity = 0,0.33
bindtime = 3
sprpriority = 4
removetime = 475
scale = 0.45,0.45
supermove = 1

[State 2000,NoHit]
type = NotHitBy
trigger1 = Time > 34
value = ,NP,SP,NA,SA

[State 1211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[State 1900, 3]
type = PlaySnd
trigger1 = Time = 70
value = 3,4

[State 1900, 3]
type = PlaySnd
trigger1 = time = 45
value = 3,6

[State 1900, 4]
type = AfterImage
trigger1 = Time = 1
Time = 45
TimeGap  = 1
FrameGap = 4

[State 1900, 3]
type = PlaySnd
trigger1 = time = 399
value = 3,5

[State 3021,ProjUp]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Command = "holdup"
ProjAnim = 1905
ProjHitAnim = 18999
;ProjRemAnim = 18997
projscale = 0.45,0.45
offset = 35, -50
velocity = 8,-8
remvelocity = 0,0
;velmul = 1.005, 1
accel = 0, 0
ProjPriority = 6
;HitDef part
attr = S, HP
damage    = 950,950
animtype  = Hard
getpower = 0
givepower = 200
guardflag = MA
pausetime = 0,12
sparkno = -50
guard.sparkno = -50
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -20,-15
guard.velocity = -3.5
airguard.velocity = -3.5,-3.75
air.type = Low
air.velocity = -20,-12
fall = 1

;'ei'A'nj
[State 3021,GroundProjStraight]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Pos Y >= 0
trigger1 = Command != "holdup"
ProjAnim = 1905
ProjHitAnim = 18999
projscale = 0.45,0.45
offset = 35, -50
velocity = 8, 0
remvelocity = 0,0
;velmul = 1.005, 1
accel = 0, 0
ProjPriority = 6
;HitDef part
attr = S, HP
damage    = 999,499
animtype  = Hard
getpower = 0
givepower = 200
guardflag = MA
pausetime = 0,12
sparkno = -50
guard.sparkno = -50
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -20,-10
guard.velocity = -3.5
airguard.velocity = -3.5,-2.75
air.type = Low
air.velocity = -20,-8
fall = 1

;'ei'A'j
[State 3021,AirProjStraight]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Pos Y < 0
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
ProjAnim = 1905
ProjHitAnim = 18999
projscale = 0.45,0.45
offset = 35, -50
velocity = 8, 0
remvelocity = 0,0
;velmul = 1.005, 1
accel = 0, 0
ProjPriority = 6
;HitDef part
attr = S, HP
damage    = 999,499
animtype  = Hard
getpower = 0
givepower = 200
guardflag = MA
pausetime = 0,12
sparkno = -50
guard.sparkno = -50
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -20,-10
guard.velocity = -3.5
airguard.velocity = -3.5,-2.75
air.type = Low
air.velocity = -20,-8
fall = 1

;'eij
[State 3021,ProjDown]
type = Projectile
trigger1 = AnimElem = 4
trigger1 = Command != "holdup"
trigger1 = Command = "holddown"
trigger1 = Pos Y < 0
ProjAnim = 1905
ProjHitAnim = 18999
projscale = 0.45,0.45
ProjID = 555
offset = 35, -50
velocity = 8,8
remvelocity = 0,0
;velmul = 1.005, 1
accel = 0, 0
ProjPriority = 6
;HitDef part
attr = S, HP
damage    = 999,499
animtype  = Hard
getpower = 0
givepower = 200
hitflag = MAFD
guardflag = MA
pausetime = 0,12
sparkno = -50
guard.sparkno = -50
hitsound = S1100, 2
guardsound = S1100, 2
ground.type = Trip
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -20,8
guard.velocity = -3.5
airguard.velocity = -3.5,2.75
air.type = Low
air.velocity = -20,15
fall = 1
fall.damage = 25

[State 1500, 3]
type = ChangeState
trigger1 = Time = 528
trigger1 = Pos Y < 0
value = 1500

[State 1900, end]
type = ChangeState
trigger1 = Time = 528
value = 0
ctrl = 1

;----------------------------------------------------------------------
;Golpe!!

[StateDef 3105]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -500
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 5
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  3101
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 3101]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y > 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  3102
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime
value =  0+(statetype=A)*3104
ctrl = 1
;--------------------------------------------------------------------------
[StateDef 3102]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 3100
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S2,0
guardsound = S2,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -14,-3.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -14,-3.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 360, 4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;--------------------------------------------------------------------------
[StateDef 3104]
type = A
movetype= A
physics = A
ctrl = 1
anim = 44
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time
;-------------------------------------------------------------------------

;Begin Fly
[Statedef 1510]
type = A
movetype = A
physics = A
velset = 0,-5.5
anim = 1510
ctrl = 0

[State 192]
type=Explod
trigger1=time=2
anim=6310
ID=192
pos=0,23
scale = 0.50,0.50
bindtime=1
sprpriority=3
ownpal=1

[State 1510, subindo]
type = PlaySnd
trigger1 = animelem = 1
value = S7, 1
volume = 255

[State 1510, subindo]
type = PlaySnd
trigger1 = animelem = 1
value = S40, 0
volume = 255

[State 1510, 1]
type = AfterImage
trigger1 = Time = 0
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1510, 2]
type = AfterImage
trigger1 = Time = 0
time = 10
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1510, 3]
type = changestate
trigger1 = animtime = 0
value = 1500
ctrl = 1

;VoLar
[Statedef 1500]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

;raYos
[State 1,raios]
type = Explod
triggerall = power >= 3000
triggerall = NumExplod(1) = 0
triggerall = stateno = 1500
trigger1 = Time = 0
trigger2   = TimeMod = 30,0
anim = 1
id = 1
pos = 0,0
postype = p1
sprpriority = 2
removetime = 26
removeongethit = 1

[State 1500, VarSet]
type = VarSet
Trigger1 = Time = 0
var(3) = 1

[State 1500, Block1]
type = ReversalDef
Trigger1 = command = "holdback"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S20, 3
p1stateno = 150

[State 1500, Stop1]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0

[State 1510, Stop2]
type = ChangeAnim
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = Anim != 1500
value = 1500

[State 1500,fuwavar(1)]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.6
v = 2
value = 1

[State 1500,fuwavar(2)]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.6
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2

[State 1500,fuwaUp]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1

[State 1500,fuwaDown]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1

[State 1500,fuwaEnd]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0

[State 1500,fuwaEndVar]
type = VarSet
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
v = 2
value = 0

[State 1500, UpBorder1]
type = PosSet
Trigger1 = Pos Y < -400
y = -400

[State 1500, UpBorder2a]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1

[State 1500, UpBorder2b]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0

[State 1500, GoDown1]
type = VelAdd
Trigger1 = command = "holddown"
y = 0.4

[State 1500,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = Vel Y < 0
y = 0

[State 1500, GoUp1]
type = VelAdd
Trigger1 = command = "holdup"
y = -0.3

[State 1500,GoUp2]
type = VelSet
Trigger1 = command = "holdup"
Trigger1 = Vel Y > 0
y = 0

[State 1500, GoUpAnim]
type = ChangeAnim
Trigger1 = Anim != 1504
Trigger1 = command = "holdup"
value = 1504

[State 1500, GoBack1]
type = VelAdd
Trigger1 = command = "holdback"
x = -0.3

[State 1500,GoBack2]
type = VelSet
Trigger1 = command = "holdback"
Trigger1 = Vel X > 0
x = 0

[State 1500, GoBackAnim]
type = ChangeAnim
Triggerall = Anim != 1502
Trigger1 = command = "holdback"
Trigger2 = command = "holddown"
value = 1502

[State 1500, GoFwd1]
type = VelAdd
Trigger1 = command = "holdfwd"
x = 0.4

[State 1500,GoFwd2]
type = VelSet
Trigger1 = command = "holdfwd"
Trigger1 = Vel X < 0
x = 0

[State 1500, GoFwdAnim]
type = ChangeAnim
Trigger1 = Anim != 1501
Trigger1 = command = "holdfwd"
value = 1501

[State 1500, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 1503
trigger1 = command = "holddown"
value = 1503

[State 1500, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 1500, Land1]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 1500, Land2]
type = ChangeState
Trigger1 = command = "fly"
Trigger1 = command = "holddown"
value = 50
ctrl = 1

;[State 1500, WinLose]
;type = ChangeState
;Trigger1 = Win
;Trigger2 = Lose
;value = 50

[State 1500,WinALose]
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 1202

;---------------------------------------------------------------------------
[Statedef 1202]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1202

[State 210, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 210, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 1203

;---------------------------------------------------------------------------
[Statedef 1203]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1203

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----Transformacion CELL--------------------------------------------------

[Statedef 8925]
type = S
physics = S
ANIM = 8925
poweradd = -3000
ctrl = 0
velset = 0,0,0

[State 3231, 1]
type = superpause
trigger1 = time = 0
time = 155
movetime = 155
anim = -1
darken = 0

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1600,0
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1601,0
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1601,1
volume = 255

[State 210, 3]
type = ChangeState
trigger1 = ANIMtime = 0
value = 3231
ctrl = 0

[Statedef 3231]
type = S
physics = S
anim = 3231
poweradd = 0
ctrl = 0
velset = 0,0,0

[State 3231, RaYo]
type = RemoveExplod
ID = 1
trigger1 = time = 1

[State 3231, 1]
type = assertspecial
trigger1 = time = [0, 1400]
flag = nomusic

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 19
time = 400
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 18
time = 400
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 17
time = 400
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 3231, 1]
type = superpause
trigger1 = time = 0
time = 1250
movetime = 1250
anim = -1
darken = 0

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 1903
color = 0

;[State 3231, cell]
;type = Explod
;trigger1 = time = 1
;anim = 3021
;ID = 3021
;pos = 0,0
;postype = p1
;facing = 1
;bindtime = -1
;removetime = 100
;supermove = -1
;removeongethit = 1
;sprpriority = 1
;supermovetime = -1

[State 3231: magia]
type = Explod
trigger1 = AnimElem = 18
anim = 2620
ID = 2620
pos = -12,-42
postype = p1
facing = 1
bindtime = -1
removetime = 200
supermove = -1
removeongethit = 1
sprpriority = 3

[State 3231: magia]
type = Explod
trigger1 = AnimElem = 18
anim = 2605
ID = 2605
pos = -15,-47
postype = p1
facing = 1
bindtime = -1
removetime = 163
supermove = -1
removeongethit = 1
sprpriority = 2

[State 2500: Ki]
type = Explod
trigger1 = AnimElem = 11
anim = 731
ID = 731
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = 500
supermove = -1
removeongethit = 1
sprpriority = 1
scale = 0.50,0.50

[State 5040, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 11
Anim = 10010
Pos = -5, 22
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 500
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.90, 0.90

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 11
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 12
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 13
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 14
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 15
value = 730,1
volume = 255

[State 2500, Remove ki]
type = RemoveExplod
ID = 731
trigger1 = AnimElem = 18


;[State 3231, 4]
;type = Envcolor
;trigger1 = Time = 345
;time = 240

[State 2500: ki ssj3]
type = Explod
trigger1 = AnimElem = 17
anim = 735
ID = 735
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = 100
supermove = -1
removeongethit = 1
sprpriority = 13
scale = 0.55,0.55

[State 5040, Ring]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 17
Anim = 10010
Pos = -5, 22
Id = 10010
sprpriority = -2
removeongethit = 0
removetime = 100
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.90, 0.90

[State 5040, electricidad]
type = Explod
triggerall = pos y = 0
trigger1 = AnimElem = 17
Anim = 10030
Pos = 0, -30
Id = 10030
sprpriority = 13
removeongethit = 0
removetime = 100
Postype = p1
Bindtime = 12
SuperMove = 1
ownpal = 1
scale = 0.6, 0.6

[State 3231, 2]
type = PlaySnd
trigger1 = animelem = 17
value = 730,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4,0
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 16
value = 4,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 18
value = 5,1
volume = 255

[State 3231, 2]
type = PlaySnd
trigger1 = AnimElem = 19
value = 5,0
volume = 255

[State 3231, Beam]
type = Projectile
trigger1 = AnimElem = 19
getpower  = 0
projanim = 4900
projhitanim = -1
projpriority = 5
projremovetime = 60
PROJSCALE = 0.6,0.6
projid = 2515
projhits = 120
projmisstime = 2
numhits = 4
velocity = 0
accel = 0
offset = 27,-53
attr = S, NA
damage   = 280,180
animtype = Hard
guardflag = MA
hitflag = MAFP
pausetime = 1,1
hitsound   = S15,0
sparkno = -1
guard.sparkno = -1
guardsound = S16,0
ground.type = High
ground.slidetime = 25
ground.hittime  = 15
ground.velocity = -8
air.animtype = High
air.velocity = -2
air.juggle = 2
down.velocity = -4,-6
down.hittime = 30
down.bounce = 0
palfx.time = 23
palfx.add = 0,128,255
fall = 1
air fall = 1

;[State 3231, 4]
;type = Envcolor
;trigger1 = time = 1043
;time = 50

[State 3231, end]
type = ChangeState
trigger1 = Time = 1353
value = 1933
ctrl = 1

; normalidad
[Statedef 1933]
type = S
ctrl = 0
anim = 1934
velset = 0,0,0

[State 3231, 1]
type = superpause
trigger1 = time = 0
time = 550
movetime = 550
anim = -1
darken = 0

[State 1934, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 4,2
volume = 255

[State 3231, end]
type = ChangeState
trigger1 = Time = 550
value = 0
ctrl = 1
;---------------------------------------------------------------------------

;combo3
[Statedef 1182]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1057; animacion de teletransportacion
poweradd = -200

[State 100]
type = AfterImage
trigger1 = ANIMELEM = 1
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1155, 1]
type = PlaySnd
trigger1 = time = 0
value = 700, 0

[State 1155, 1]
type = posadd
trigger1 = time = 10
x = p2bodydist x - 10
y = p2bodydist y + 0

[State 1155, turn]
type = Turn
trigger1 = P2dist X < 0

[State 1155,2 ]
type = ChangeState
trigger1 = Time = 11
value = 1183
ctrl = 1

;--------------------------------------------------------------------------------------------------
[Statedef 1183]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 250
poweradd = -100

[State 1183]
type = VelSet
trigger1 = AnimElem = 2
x = 2

[State 1183]
type = HitDef
trigger1 = animelem = 2
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Light
air.animtype = Light
fall.animtype = Back
damage = 20,2
pausetime = 5,10
animtype =light
ground.type = high
ground.velocity = -4
ground.slidetime =10
ground.hittime = 12
sparkxy = -40,-40
sparkno = S9013
hitsound= S1,1
kill = !var(58) || 1*p2stateno = 003

[State 1183, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1184
ctrl = 1
;------------------------------------------------------------------------------
[Statedef 1184]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 251

[State 1157]
type = VelSet
trigger1 = AnimElem = 2
x = 2

[State 1156]
type = HitDef
trigger1 = time = 0
attr = S,NA
hitflag = MAFD
guardflag = MA
affectteam = E
animtype = Hard
priority = 4,Hit
damage = 62, 21
pausetime = 5,5
sparkno = S9013
sparkxy = 17,-6
hitsound = S1,1
guardsound = S1,3
ground.type = Trip
ground.slidetime = 10
ground.hittime = 20
ground.velocity = -1,-3
air.velocity = -1,-3
fall = 1
getpower = 0,0
givepower = 0,0
envshake.time = 10
envshake.freq = 60
envshake.ampl = -4
envshake.phase = 90
kill = !var(58) || 1*p2stateno = 003

[State 1156, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1185
ctrl = 1
;---------------------------------------------------------------------------------------------------------------
[Statedef 1185]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 270
poweradd = 0

[State 1185]
type = VelSet
trigger1 = AnimElem = 3
x = 1

[State 1185, 2]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
hitflag = MAF
guardflag =MA
animtype = Light
air.animtype = Light
fall.animtype = Back
damage = 20,2
pausetime = 5,10
animtype =light
ground.type = high
ground.velocity = -8,-10
air.velocity =  -8,-10
ground.slidetime =10
ground.hittime = 12
sparkxy = -20,-40
sparkno = S9013
hitsound= S1,1
kill = !var(58) || 1*p2stateno = 003

[State 1156, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 360
ctrl = 1

; FireBall
[Statedef 360]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -100
anim = 360

[State 3600]
type = Superpause
trigger1 = time = 10
time = 35
movetime = 35
anim = 360

[State 730, PlaySND]
type = PlaySnd
trigger1 = time = 7
value = S3,5
volume = 255

[State 360,2]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 365
pos = 0,-60
stateno = 365
keyctrl = 1
ownpal = 1

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 360, 4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

; Fireball: Helper
[Statedef 365]
type    = S
movetype= A
physics = S
anim = 365
ctrl = 0

[State 365, sem sombra]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 365, 1]
type = HitDef
trigger1 = Time >= 0
attr = S, HA
animtype  = Hard
velocity = 0,-2.7
accel = 0,0.1
damage    = 20,8
numhits = 1
guardflag = MA
pausetime = 1,8
getpower = 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10,40
hitsound   = S3,3
ground.type = Trip
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -2,-10
air.velocity = -2,-4
down.velocity = -5,0
down.hittime = 20
fall = 1
;ground.type = Hard
;ground.slidetime = 22
;ground.hittime  = 11
;ground.velocity = -3
;air.velocity = -3,-2

[State 3600]
type = explod
trigger1 = movecontact
anim = 18998
pos = -10,-25
postype = p2
sprpriority = 15
bindtime = 1
scale = 1,1

[State 365, 2]
type = AfterImage
trigger1 = time = 0
time = 30
trans = add
PalContrast = 204,198,116
TimeGap = 2
FrameGap = 1
length = 15

[State 365,4]
type = VelSet
trigger1 = time >= 0
x = 12
y = -12

[State 365,GetHit]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA,NP,SP,HP
slot = 0

[State 365, 5]
type = DestroySelf
trigger1 = movecontact

[State 365, 6]
type = Envcolor
trigger1 = movecontact
time = 4

[State 365, 7]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
;Hyper Combo
[Statedef 1503]
type=S
movetype= A
physics=N
juggle=2
ctrl=0
velset=0,0
anim=1053
facep2 = 1

[State 2055, 2]
type = SuperPause
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
pos = -9999, 9999
darken = 0
time = 3

[State 0, ]
type = Explod
trigger1 = AnimElem = 3
anim = 24
ID = 24
pos = 0,0
scale = .5,.3
vel= -2,0
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 100, AfterImage]
type = AfterImage
trigger1 = time = 3
time = 14
length = 10
palinvertall = 0
palbright = 0,0,0
palcontrast = 256,256,256
paladd = 0,0,0
timegap = 1
framegap = 1
trans = Add

[State 1503, 1]
type = AssertSpecial
trigger1 = Time >= 0
flag= Unguardable

[State 1060, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = S7,1
channel = 0

[State 1503, runfwd] ;Gravity
type = VelAdd
trigger1 = animelem >= 2
y = 0
x = 12

[State 740, INV]
type = hitby
trigger1 = Time = 0
value =
time = 49

[State 1234, 3]
type=HitDef
trigger1=AnimElem=4
attr=S, NA
animtype =Medium
damage   =0
guardflag=MA
guard.dist = 0
pausetime=10,15
sparkxy=-10,-60
sparkno=S2
hitsound  =S0,1
guardsound=S0,1
ground.type=Low
ground.slidetime=5
ground.hittime=100
ground.velocity=7
air.velocity=9
snap = 30, 0, 0, 1
P1stateno=1501

[State 1234, 5]
type=ChangeState
trigger1= time =40
value=0
ctrl=1

;----------------------------------------------------------
[Statedef 1501]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
velset = 0,0
ctrl = 0
anim = 1051

[State 2001, 3] ;Gravity
type = VelAdd
trigger1 = movehit = 1
y = -0.045
x = 0

[State 4000, 2]
type = targetbind
trigger1 = time >= 0
;trigger1 = movehit = 1
pos = 69, 0

[State 2001, 5]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
trigger21 = AnimElem = 21
trigger22 = AnimElem = 22
trigger23 = AnimElem = 23
trigger24 = AnimElem = 24
trigger25 = AnimElem = 25
trigger26 = AnimElem = 26
trigger27 = AnimElem = 27
trigger28 = AnimElem = 28
trigger29 = AnimElem = 29
trigger30 = AnimElem = 30
value = 0, 1

[State 2001, 6]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
trigger21 = AnimElem = 21
trigger22 = AnimElem = 22
trigger23 = AnimElem = 23
trigger24 = AnimElem = 24
trigger25 = AnimElem = 25
trigger26 = AnimElem = 26
trigger27 = AnimElem = 27
trigger28 = AnimElem = 28
trigger29 = AnimElem = 29
trigger30 = AnimElem = 30
attr = S, HP
animtype  = hard
damage    = 10,2
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 2,10
sparkno = S11000
sparkxy = -5,-60
hitsound   = S0,2
guardsound = S0,1
ground.type = Low
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = 0
air.velocity = 0
p2stateno = 890

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value =  2112
ctrl = 0

[StateDef 2112]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -50
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 6

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  2111
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 2111]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  2122
ctrl = 0


;--------------------------------------------------------------------------
[StateDef 2122]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 220
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S2,0
guardsound = S2,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -14,-3.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -14,-3.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 2001, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 4105
ctrl = 0

;--------------------------------------------------------------------------

[StateDef 4105]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -50
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 5
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  4101
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 4101]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  4102
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime
value =  0
ctrl = 1
;--------------------------------------------------------------------------
[StateDef 4102]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 270
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S2,0
guardsound = S2,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -14,-3.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -14,-3.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0


[State 360, 4]
type=ChangeState
trigger1=AnimTime=0
value=6105
ctrl=1

;--------------------------------------------------------------------------

[StateDef 6105]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -50
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 5
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  6101
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 6101]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  6102
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime
value =  0
ctrl = 1
;--------------------------------------------------------------------------
[StateDef 6102]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 280
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S2,0
guardsound = S2,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -14,-3.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -14,-3.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 360, 4]
type=ChangeState
trigger1=AnimTime=0
value=7105
ctrl=1

;--------------------------------------------------------------------------
[StateDef 7105]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -50
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 5
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  7101
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 7101]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  7102
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 7102]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 220
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S2,0
guardsound = S2,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -14,-3.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -14,-3.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=8105

;--------------------------------------------------------------------------
[StateDef 8105]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -50
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 5
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  8101
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 8101]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  8102
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 8102]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 210
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S2,0
guardsound = S2,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -14,-3.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -14,-3.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=9105

;--------------------------------------------------------------------------

[StateDef 9105]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 100
poweradd = -50
sprpriority = 2

[State 3105]
type = AfterImage
trigger1 = time = 1
time = 5
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 256,256,256
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 0, VarAdd]
type = VarAdd
trigger1 = !time && var(3) <= 2
v = 3
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = !time
flag = invisible

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S700,0
volume = 255
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value =  9101
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 9101]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 3101
poweradd = 0;0
sprpriority = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = P2MoveType = H
time = 15
movetime = 15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =Pos Y < 0
statetype = A
movetype = A
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = !time && numtarget
x = ifelse(  facing = -1,(target, pos X-20), (target, pos X+20)  )
y = target, pos Y

[State 0, PosSet]
type = PosSet
trigger1 = !time && !numtarget
x = ifelse(  facing = -1,(enemynear, pos X-20), (enemynear, pos X+20)  )
y = enemynear, pos Y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animTime
value =  9102
ctrl = 0

;--------------------------------------------------------------------------
[StateDef 9102]
type = U
movetype= A
physics = U
velset = 0,0
ctrl = 0
anim = 280
poweradd = 0;0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = !time

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 60, 15
animtype = Back
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 15, 15
sparkno = S9052
guard.sparkno = S9053
sparkxy = -10, -45
hitsound = S2,0
guardsound = S2,0
ground.type = High
ground.slidetime = 30
ground.hittime  = 35
ground.velocity = -14,-3.5
Air.Fall = 1
air.type = High
air.hittime = 35
air.velocity = -14,-3.5
airguard.velocity = -4.5,0
getpower = 0;0
envshake.time = 15
envshake.freq = 120
envshake.ampl = 6

[State 0, EnvColor]
type = EnvColor
trigger1 =movehit
value = 255,255,255
time = 2
ignorehitpause = 1
persistent = 0

[State 0]
type=ChangeState
trigger1=AnimTime=0
value=3500

;---------------------------------------------------------------------------

;Teletrasnportacion
[Statedef 1600]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1600
ctrl = 0
facep2 = 1

[State 1601, 1]
type = PlaySnd
Trigger1 = AnimElem = 2
value = S1600,0
volume = 200

[State 1600, Fwd]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
x = P2Dist X+30
y = p2bodydist y - 0

[State 1600, FwdUp]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command = "holdup"
Trigger1 = command = "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holddown"
x = 300
y = -200

[State 1600, Back]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command = "holdback"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
x = -300
y = 0

[State 1600, BackUp]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holdback"
Trigger1 = command  = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holddown"
x = -300
y = -200

[State 1600, Up]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holdup"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command  != "holddown"
x = 0
y = -200

[State 1600, down]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holddown"
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
x = 0
y = (pos y)*-1

[State 1600, Fwddown]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holddown"
Trigger1 = command  = "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
x = 300
y = (pos y)*-1

[State 1600, Backdown]
type = PosAdd
Trigger1 = animtime = 0
Trigger1 = command  = "holddown"
Trigger1 = command != "holdfwd"
Trigger1 = command  = "holdback"
Trigger1 = command != "holdup"
x = -300
y = (pos y)*-1

[State 1600, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 1600, 4]
type = ChangeState
Trigger1 = animtime = 0
value = 1601
ctrl = 1

;teletrasnportacion apareciendo
[Statedef 1601]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1601
ctrl = 0
facep2 = 1

[State 1601, 1]
type = PlaySnd
Trigger1 = AnimElem = 3
value = S1600,0
volume = -200

[State 2500, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 1601, 5]
type = ChangeState
Trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
; Ataque Rapido
[Statedef 1610]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= -20
ctrl = 0
velset = 0,0
anim = 1610
sprpriority = -1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 6
trigger3 = AnimElem = 9
trigger4 = AnimElem = 12
trigger5 = AnimElem = 15
trigger6 = AnimElem = 18
value = 0, 4

[State 210, 1]
type = PlaySnd
trigger1 = time = 1
value = 7, 7

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 9
trigger4 = AnimElem = 11
trigger5 = AnimElem = 15
attr = S, NA
animtype  = Medium
damage    = 15
guardflag = MA
pausetime = 5,6
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-56
hitsound = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 0;12
ground.hittime  = 0;15
ground.velocity = 0;-5.5
air.velocity = 0;-2.5,-4
fall=0

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 17
attr = S, NA
animtype  = Medium
damage    = 15
guardflag = MA
pausetime = 5,6
sparkno = S11000
guard.sparkno = S8050
sparkxy = -10,-56
hitsound = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 0;12
ground.hittime  = 0;15
ground.velocity = 0;-5.5
air.velocity = 0;-2.5,-4
fall=1
air fall = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 1500

[State 210, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------
;Colazo
[Statedef 2225]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 7
poweradd = -95

[State 0, ]
type = PlaySnd
trigger1 = !time
value = S1601,5
volume = 255
channel = 1

[State 3231,2]
type = AfterImage
trigger1 = AnimElem = 1
time = 90
length = 20
palbright = 10,10,-40
palcontrast = 190,190,210
palpostbright = -5,-5,-10
timegap = 2
flamegap = 1
trans = add1

[State 0, ]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
hitflag = MAF
guardflag = MA
;affectteam = E
animtype = hard
air.animtype = hard
;fall.animtype = Back
priority = 4,Hit
damage = 95,35
pausetime = 10,10
;guard.pausetime = 0,0
sparkno = S11001
guard.sparkno = S8050
sparkxy = -10,-52
hitsound = S1,1
guardsound = S3,0
ground.type = Low
air.type = Low
ground.slidetime = 2
guard.slidetime = 2
ground.hittime = 2
guard.hittime = 2
air.hittime = 2
ground.velocity = -8,-10
air.velocity = -7,-9
givepower = 60, 60
getpower = 120,120
fall = 1
air fall = 1

[State 700, 3]
type=ChangeState
trigger1=AnimTime=0
trigger1=Pos Y < 0
value=1500

[State 0, ]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;Rock Helper 00
[StateDef 15200]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15200, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 5040
y = -2

[State 15200, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 5040
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 5040
y = -0.08

[State 15200, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 5040
value = 15255

[State 15200, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 01
[StateDef 15201]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15201, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent, stateno = 5040
y = -3

[State 15201, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 5040
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -3
trigger1 = parent, stateno = 5040
y = -0.08

[State 15201, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 5040
value = 15255

[State 15201, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper 02
[StateDef 15202]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15200 + Parent, Var(16)
ctrl = 0
sprpriority = 4

[State 15202, VelSet]
type = VelSet
triggerall = time = 0
trigger1 =  parent, stateno = 5040
y = -4

[State 15202, VelAdd]
type = VelAdd
trigger1 = parent, stateno != 5040
y = 0.08

[State 15201, VelAdd]
type = VelAdd
triggerall = vel y > -4
trigger1 = parent, stateno = 5040
y = -0.08

[State 15202, Next]
type = ChangeState
trigger1 = pos Y < -240 && parent, stateno = 5040
value = 15255

[State 15202, Next]
type = ChangeState
trigger1 = pos y >= 0 && time > 0
value = 15255
;---------------------------------------------------------------------------
;Rock Helper Die
[StateDef 15255]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 15255
ctrl = 0
sprpriority = 4

[State 15202, PlaySND]
type = PlaySnd
trigger1 = time= 0
value = 1720,0
volume = 245

[State 15255, DestroySelf]
type = DestroySelf
trigger1 = time = 4

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[statedef -2]

[State -2, AI Activando]
type = VarSet
triggerall = var(59) = 0
trigger1 = IsHomeTeam
trigger1 = TeamSide = 2
var(59) = 1

[State -2, AI1]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = P2BodyDist X < 600
triggerall = P2BodyDist X > 180
triggerall = random < 580
triggerall = power >= 50
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 10000; LANZA DE RFAGAS

[State -2, AI2]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 100
triggerall = random < 720
triggerall = power >= 280
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 1305 ;Super Combo

[State -2, AI3]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = power >= 250
triggerall = P2BodyDist X > 120
triggerall = random < 700
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 2600; VIENTO RFAGA

[State -2, AI4]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = Power <= 10
trigger1 = P2BodyDist X >= 340
triggerall = random < 700
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 5040;CARGA DE KI

[State -2, AI5]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = random < 500
triggerall = power >= 1000
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value =  3500;KAME HAME HA DE CELL NORMAL

[State -2, AI6]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 120
triggerall = random < 520
triggerall = power >= 120
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 1182;TELETRANSPORANCION Y GOLPES

[State -2, AI7]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 120
triggerall = random < 550
triggerall = power >= 300
triggerall = numproj < 7
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 700;RAYO NORMAL

[State -2, AI8]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 300
triggerall = random < 830
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 5040; CARGA DE KI

[State -2,AI9]
;Parar de voar
type = ChangeState
triggerall = Var(59)= 1
triggerall = stateno = 1500
trigger1 = p2statetype = S
trigger1 = p2bodydist Y > 42
value = 50; PARAR DE VOLAR

[State -2, AI10]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = random < 900
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 100; HACIA ADELANTE

[State -2, AI11]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = random < 650
triggerall = power >= 80
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 2100; APARECE GOLPE

[State -2, AI12]
type = ChangeState
triggerall = Ctrl
triggerall = StateType = S
triggerall = var(59) = 1
triggerall = random < 410
trigger1 = P2BodyDist X > 10
trigger1 = P2BodyDist X > 0
trigger1 = P2BodyDist X < 160
trigger1 = Stateno != 100
trigger1 = Stateno = 0
value = 105;HACIA ATRAS

[State -2, AI13]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = power >= 250
triggerall = P2BodyDist X > 155
triggerall = random < 650
trigger1 = P2StateType = S
value = 1200; OTRO RAYO ABAJO

[State -2, AI14]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 160
triggerall = random < 650
triggerall = power >= 350
triggerall = numproj < 7
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 1200

[State -2, AI15]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = P2BodyDist X > 160
triggerall = random < 350
triggerall = power >= 1500
triggerall = numproj < 7
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value = 2700

[State -2, AI16]
type = ChangeState
triggerall = Ctrl
triggerall = var(59) = 1
triggerall = StateType = S
triggerall = random < 100
triggerall = power >= 3000
triggerall = numproj = 0
trigger1 = P2StateType = S
trigger2 = P2MoveType = A
value =  3231;KAME HAME HA DE CELL SEGUNDA FORMA


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, Ativando]
type = VarSet
trigger1 = command = "ai"
trigger2 = command = "ai1"
trigger3 = command = "ai2"
trigger4 = command = "ai3"
trigger5 = command = "ai4"
trigger6 = command = "ai5"
trigger7 = command = "ai6"
trigger8 = command = "ai7"
trigger9 = command = "ai8"
trigger10= command = "ai9"
trigger11= command = "ai10"
trigger12= command = "ai11"
trigger13= command = "ai12"
trigger14= command = "ai13"
var(59) = 1

;----------------------------------------------------------------

