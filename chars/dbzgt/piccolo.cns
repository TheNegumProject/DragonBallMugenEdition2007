; CNS 4 Dragonballz/gt: Piccolo
;=-=--=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
;Tag out to Piccolo
;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
[Statedef 2222]
type = S
movetype = A
physics = N
anim = 3434
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
poweradd = 0
ctrl = 0

[State 1111, ScreenBound]
type = ScreenBound
trigger1 = Time <= 5
value = 0

[State 1111, Helper]
type = Helper
trigger1 = var(9) = 0 && var(7) = 0
trigger1 = Time = 0
stateno = 1234
name = "vegeta: I was just leaving"
postype = p1
pos = 0,0
id = 10
ownpal = 1

[State 1111, Helper]
type = Helper
trigger1 = var(9) = 1 && var(7) = 0
trigger1 = Time = 0
stateno = 1236
name = "goku: I think i hear chi-chi calling! "
postype = p1
pos = 0,0
id = 11
ownpal = 1

[State 1111, PosSet]
type = PosSet
trigger1 = facing = 1
trigger1 = Time = 1
x = -150
y = -75

[State 1111, PosSet]
type = PosSet
trigger1 = facing = -1
trigger1 = Time = 1
x = 150
y = -75

[State 1111, VelSet]
type = VelSet
trigger1 = Time = 1
x = 14
y = 3.5

[State 1111, 0]
type = VarSet
trigger1 = time >= 9
v = 1
value = 0

[State 1111, 4]
type = varset
trigger1 = time >= 9
v = 9
value = 0

[State 1111, 0]
type = VarSet
trigger1 = time >= 9
v = 3
value = 0

[State 191, 0]
type = VarSet
trigger1 = time >= 9
v = 6
value = 0

[State 191, 0]
type = VarSet
trigger1 = time >= 9
v = 7
value = 1

[State 600, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 2
value = 1137

[State 1111, HitDef]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
animtype = Hard
damage = 30
sparkxy = 0, -24
hitflag = MA
guardflag = MA
pausetime = 10,10
hitsound = S3,7
guardsound = 5,0
ground.type = High
ground.slidetime = 8
ground.hittime = 20
ground.velocity = -.5,-8.5
air.velocity = -.5,-8.5
fall = 1
p2stateno = 3010

[State 1111, ChangeState]
type = ChangeState
trigger1 = Time > 2
trigger1 = Pos Y >= 0
value = 4195

;tag taunt
[Statedef 4195]
type = S
movetype = I
physics = N
anim = 4195
velset = 0,0
poweradd = 0
ctrl = 0

[State 2195, ChangeState]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;=--=-=-=--=-=--=-=-=-=-=-=-=-=-=-=-=-=-
;piccolo basic attacks!
;=-=--=-=-=--=-=-=-=--==--=-=-=-=-=-=-=-
; STAND_a
[Statedef 30200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 3                      
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)                
ctrl = 0                     
anim = 30200                   
poweradd = 30                

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     
damage    = 20                   
animtype = Light                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                                           
pausetime = 7,8                  
numhits = 1                      
sparkno = 0                   
sparkxy = -7,-37             
hitsound = S3,5                  
guardsound = 6,0                
ground.type = High                 
ground.slidetime = 4             
ground.hittime  = 11             
ground.velocity = -3             
airguard.velocity = -1.9         
air.velocity = -1.3,-3  

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------

[Statedef 30201]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 3                      
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)                
ctrl = 0                    
anim = 30210                   
poweradd = 10                  

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 201, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     
damage    = 40                   
animtype = Medium                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                                           
pausetime = 7,16                  
numhits = 1                      
sparkno = 1                   
sparkxy = 3,-42            
hitsound = S3,6                 
guardsound = 6,0                
ground.type = High                 
ground.slidetime = 8             
ground.hittime  = 11             
ground.velocity = -7             
airguard.velocity = -1.9         
air.velocity = -1.3,-3           

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 201, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------

[Statedef 30202]
type    = S
movetype= A
physics = S
juggle  = 9
poweradd= 20
ctrl = 0
anim = 30220
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 202, stop3]
type = ChangeAnim
trigger1 = MoveContact = 1
trigger1 = Anim != 231
value = 231

[State 1211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[State 202, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage   = 60
animtype = Hard
guardflag = MA
pausetime = 12,6
sparkno = 3
sparkxy =  7,-75
hitsound   = S3,7 
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -9      
air.velocity = -3,-4.5
airguard.velocity = -3.5     
fall = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 202, end1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;=-=--==-=-=-
;kicks
;=-=-=-=-=-=-
; STAND_B
[Statedef 30210]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 30
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
anim = 30230

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     
damage    = 50                   
animtype = Medium                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                                           
pausetime = 7,8                  
numhits = 1                      
sparkno = 0                   
sparkxy = 3,-42            
hitsound = S3,5                   
guardsound = 6,0                
ground.type = High                 
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = -4             
airguard.velocity = -1.9         
air.velocity = -1.3,-3   

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------

; STAND_B
[Statedef 30211]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 20
ctrl = 0
velset = (PrevStateno = 9000)* 2,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
anim = 30240

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 1211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 1;48
x = 4
y = 0

[State 211, 2]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
attr = S, NA
animtype  = Light
damage    = 55
guardflag = MA
pausetime = 8,16
sparkno = 1
sparkxy = -5,-58
hitsound   = S3,6
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.2,-3.2

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 211, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------

[Statedef 30212]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 10
ctrl = 0
anim = 30250
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 1211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[State 212, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage   = 60
animtype = Hard
guardflag = MA
pausetime = 12,6
sparkno = 3
sparkxy =  -11,-55
hitsound   = S3,7 
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -9      
air.velocity = -3,-4.5
airguard.velocity = -3.5     
fall = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 212, end1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;=-=--=-=-=-=-=-==-=-=-
;crouch attacks
;=-=-=-=-=-=-=---=-=-=-
;CROUCH_z
[Statedef 30400]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 15
ctrl = 0
anim = 30400
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 1
attr = C, NA
damage    = 23
animtype  = hard
getpower  = 10
givepower = 8
hitflag = MAFD
guardflag = L
pausetime = 23,8
sparkno = 0
sparkxy = -2,-41
hitsound   = S3,5 
guardsound = 6,0
ground.type = Low
ground.slidetime = 45
ground.hittime  = 40
ground.velocity = -9
air.velocity = -1.3,-3
down.velocity = -4,0

[State 400, 3]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;CROUCH_b
[Statedef 30401]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 15
ctrl = 0
anim = 30410
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 33,12
animtype  = Light
hitflag = MAFD
guardflag = L
sparkno = 1
pausetime = 10,12
sparkxy = -2,-41
hitsound   = S3,6 
guardsound = 6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0

[State 400, 3]
type = CtrlSet
trigger1 = Time = 4
value = 1

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
;---------------------------------------------------------------------------
;CROUCH_c
[Statedef 30402]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 20
ctrl = 0
anim = 30420
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 410, 3]
type = HitDef
trigger1 = P2Stateno != 204
trigger1 = P2Stateno != 203
trigger2 = P2Stateno = 5040
trigger1 = animelem = 2
attr = C, NA
damage    = 43
getpower  = 40
givepower = 40
animtype = hard
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -5,-10
sparkno = 2
hitsound   = S3,7 
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3, -2   
air.velocity = -3,-3
guard.velocity = -5
fall = 1
p2stateno = 203

[State 201, 6]
type = ChangeState
trigger1 = Movehit = 1
trigger1 = Pos Y >= 0
trigger1 = command = "holdup"
trigger1 = time > 0
trigger1 = time < 20
value = 6720
ctrl = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;CROUCH_c
[Statedef 30410]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 20
ctrl = 0
anim = 30430
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 12

[State 410, 3]
type = HitDef
trigger1 = animelem = 1
attr = C, NA
damage    = 43
getpower  = 40
givepower = 40
animtype = hard
hitflag = MAFD
guardflag = L
pausetime = 6,12
sparkxy = -5,-10
sparkno = 3
hitsound   = S3,7 
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -2   
air.velocity = -3,-3
guard.velocity = -5

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Short Super Jump (air combo)
[Statedef 6720]
physics = N
type = A
anim = 30041 ;700
ctrl = 0
velset = 0,-110

[State 700, 1]
type = ChangeAnim
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger1 = Time < 5
trigger1 = pos Y < 2
value = 30042

[State 700, 1]
type = ChangeAnim
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = Time < 5
trigger1 = pos Y < 2
value = 30043

[State 701, 1]
type = Playsnd
trigger1 = time = 1
persistent = 0
value = 3,20

[State 700, 2]
type = VelAdd
triggerall = Time >= 7;5
trigger1 = Anim = 30041;700
trigger2 = Anim = 30042
trigger3 = Anim = 30045
trigger4 = Anim = 30043
trigger5 = Anim = 30044
trigger6 = Anim = 30046
y = 0.6
  
[State 700, 2]
type = VelMul
trigger1 = Time = 0
y = 0.10
  
[State 700, 3]
type = VelSet
triggerall = Pos Y <= 300
trigger1 = Anim = 701
;trigger2 = Anim = 42
y = 14
  
[State 700, 4]
type = CtrlSet
trigger1 = Time >=4
value = 1

[State 700, 6]
type = VelSet
trigger1 = Time < 3 
;trigger1 = Vel X = 0
trigger1 = Anim = 30042
x = 2  

[State 700, 6]
type = VelSet
trigger1 = Time < 3 
trigger1 = Anim = 30043
x = -2
  
[State 700, 6]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = Time >= 0
trigger1 = Vel X = 0
x = 0
  
[State 700, 7]
type = ChangeState
trigger1 = Pos Y >= 15
value = 52
ctrl = 1


;CROUCH_b
[Statedef 30420]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 10
ctrl = 0
anim = 30440
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 410, 3]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 33
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -5,-10
sparkno = 1
hitsound   = S3,6 
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3   
air.velocity = -3,-3
guard.velocity = -5

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;CROUCH_a
[Statedef 30430]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 15
ctrl = 0
anim = 30450
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 1211, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 1;48
x = 8
y = 0

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 400, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 410, 3]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 23
animtype = light
getpower  = 40
givepower = 40
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkxy = -5,-10
sparkno = 0
hitsound   = S3,5 
guardsound = 6,0
ground.type = low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -3,-2   
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;==-=-=--==-==-=-=-=-==-=-
;air attacks
;-=-=-=-=-=-=-=-=-=-=-=-=-
[Statedef 30600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 30600
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 602, 2]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 12
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 7,8
sparkxy = -10,-16
sparkno = 0
hitsound   = S3,5 
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 602, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

[State 600]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 600]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 602, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 30601]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 30601
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 602, 2]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 12
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = 1
sparkxy = -10,-16
hitsound   = S3,6 
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 602, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

[State 600]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 600]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 602, 4]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1

[Statedef 30602]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 30602
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 602, 2]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 12
getpower  = 10
givepower = 10
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = 3
sparkxy = -10,-16
hitsound   = S3,7
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,30
air.fall = 1

[State 602, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

[State 600]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 4

[State 600]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 602, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;JUMP_a
[Statedef 30620]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 11
ctrl = 0
anim = 30630
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 600]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 600]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 610, 3]
type = HitDef
trigger1 = animelem = 1
attr = A, NA
damage    = 20
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkno = 0
sparkxy = -10,-13
hitsound   = S3,5 
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 4]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;=--=-=-=-=-=-=-=-=-=-=-
;JUMP_b
[Statedef 30610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 30640
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 600]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 600]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 30
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkno = 1
sparkxy = -10,-13
hitsound   = S3,6
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,-3

[State 610, 4]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;=-=-=-=-=-=-=-=-=-=-=-=
;JUMP_C
[Statedef 30630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 11
ctrl = 0
anim = 30650
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 600]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 3

[State 600]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 10

[State 610, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 50
getpower  = 50
givepower = 25
guardflag = HA
priority = 3
pausetime = 9,10
sparkno = 3
sparkxy = -10,-13
hitsound   = S3,7
guardsound = 6,0
ground.type = High
ground.slidetime = 9
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.3,30
air.fall = 1

[State 610, 4]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1

;=-=--=-=-=-=-=-=-=-=-=-=-=-=-=-
;special moves
;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=--
;cross Kick
[Statedef 1023]
type    = S
movetype= A
physics = S
juggle  = 9
poweradd= 40
ctrl = 0
anim = 1023
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = Turn
trigger1 = animelem = 3

[State 200, 1]
type = Explod
trigger1 = Time = 0 && prevstateno != 1500
trigger2 = Time = 17 && prevstateno != 1500
persistent = 0
anim = 5412
pos = -30,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1211, 1]
type = playerpush
trigger1 = time >= 5
value = 0

[State 1211, 1]
type = veladd
trigger1 = time = [5,15]
x = 4
y = 0

[State 1211, 1]
type = velset
trigger1 = time = 15
x = 1
y = 0

[State 1211, 1]
type = veladd
trigger1 = time = [16,32]
x = 4
y = 0

[State 1211, 1]
type = velset
trigger1 = time = 32
x = 1
y = 0

[State 1211, 1]
type = velset
trigger1 = time >= 0
y = 0

[State 212, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
damage   = 30,10
animtype = Hard
guardflag = MA
pausetime = 0,6
sparkxy =  -11,-55
hitsound   = S3,7
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -5,-2      
air.velocity = -1,-2.5
airguard.velocity = -3.5     
fall = 1

[State 212, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage   = 10,30
animtype = Hard
guardflag = MA
pausetime = 0,6
sparkxy =  -11,-55
hitsound   = S3,7
guardsound = 6,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
ground.velocity = -5,-2      
air.velocity = -1,-2.5
airguard.velocity = -3.5     
fall = 1

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
value = 3, 10

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 212, end1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;slash kick
[Statedef 1024]
type    = A
movetype= A     
physics = A     
juggle  = 5
poweradd= 100
ctrl = 0
anim = 30640
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 615, 1]
type = PosAdd
trigger1 = Time = 0
x = 8
y = 20

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 615, 1]
type = VelSet
trigger1 = Time = 0
x = 8
y = 0

[State 240 , 2]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
animtype  = Medium
damage    = 10,20
guardflag = MA
pausetime = 0,0
sparkxy = 8,-25
getpower = 0
givepower = 35
hitsound = S3,15
guardsound = 6,0
ground.type = low
ground.slidetime = 11
ground.hittime  = 13
ground.velocity = 3     
air.velocity = -2.2,-3.2
p1stateno = 1025

[State 1300, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 2
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 100, 1]
type = AfterImageTime
trigger1 = Time >= 4
time = 2
trans = add1
time = 2
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 615, 7]
type = ChangeState
trigger1 = Pos Y = 0
value = 50
ctrl = 1

;p1 kicking the crap out p2
;slash kick
[Statedef 1025]
type    = A
movetype= A     
physics = A     
juggle  = 5
poweradd= 100
ctrl = 0
anim = 1024


[State 600]
type = posfreeze
trigger1 = time >= 0

[State 600]
type = PlaySnd
trigger1 = animelem = 2 && Movehit = 1
trigger2 = animelem = 6 && Movehit = 1
trigger3 = animelem = 10 && Movehit = 1
trigger4 = animelem = 14 && Movehit = 1
value = 3, 7

[State 600]
type = PlaySnd
trigger1 = animelem = 4 && Movehit = 1
trigger2 = animelem = 8 && Movehit = 1
trigger3 = animelem = 12 && Movehit = 1
trigger4 = animelem = 16 && Movehit = 1
value = 3, 6

[State 240 , 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
trigger7 = animelem = 14
attr = A, NA
animtype  = Medium
damage    = 10
guardflag = MA
pausetime = 0,45
sparkxy = 8,-25
getpower = 0
givepower = 35
hitsound = S0,88
guardsound = 6,0
ground.type = low
ground.slidetime = 11
ground.hittime  = 13
ground.velocity = -3     
air.velocity = -2.2,-3.2

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 240 , 2]
type = HitDef
trigger1 = animelem = 15
attr = A, NA
animtype  = Medium
damage    = 10
guardflag = MA
pausetime = 0,3
sparkxy = 8,-25
getpower = 0
givepower = 35
hitsound = S0,88
guardsound = 6,0
ground.type = low
ground.slidetime = 11
ground.hittime  = 13
ground.velocity = -3     
air.velocity = -2.2,-3.2
fall = 1

[State 1300, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 2
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 100, 1]
type = AfterImageTime
trigger1 = Time >= 4
time = 2
trans = add1
time = 2
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 615, 7]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;eye lazer 2
[Statedef 1026]
type    = S
movetype= A
physics = S
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
anim = 1026
ctrl = 0

[State 9876, PlaySnd]
type = PlaySnd
trigger1 = Time <= 41
trigger1 = Random < 50
value = 1,11
volume = 100

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 961
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 961

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 962
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 962

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 963
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 963

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 964
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 964

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 965
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 965

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3,10 

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,12 

;[State 11000, EnvShake]
;type = EnvShake
;trigger1 = AnimElem = 2
;time = 5
;ampl = 8

[State 2600, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 904
projhits = 1
projmisstime = 4
projremovetime = 14
projpriority = 45
projremovetime = 34
projid = 904
velocity = 12,0
projhitanim = 8720
offset = 30,-67
attr = S, SP
animtype  = Hard
damage    = 45,20
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
hitflag = MAFD
guardflag = MA
pausetime = 0,0
hitsound   = S1,3            
guardsound = S6,0                
ground.type = high
ground.slidetime = 2
ground.hittime  = 11
ground.velocity = -10,-2
air.velocity = -10,-2
fall.animtype = Hard
fall = 1
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Eye beam 2
[Statedef 1027]
type    = S
movetype= A
physics = S
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
anim = 1026
ctrl = 0

[State 9876, PlaySnd]
type = PlaySnd
trigger1 = Time <= 41
trigger1 = Random < 50
value = 1,11
volume = 100

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 961
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 961

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 962
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 962

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 963
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 963

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 964
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 964

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 965
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 965

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,13 

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 100

[State 9876, Explod]
type = Explod
trigger1 = Projhit = 1
anim = 997
sprpriority = 3
postype = p2
pos = 27,-61
bindtime = 11
ownpal = 1

[State 2600, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 11000
projhits = 2
projremove = 0
;projhitanim = 8720
projpriority = 9999
projremovetime = 19
projid = 8720
velocity = 0,0
offset = 30,-67
attr = S, SP
animtype  = Hard
damage    = 35,10
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
hitflag = MAFD
guardflag = MA
pausetime = 0,0
hitsound   = S1,3            
guardsound = S6,0                
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5,0
air.velocity = -5,-3
fall.animtype = Hard
fall = 0
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Eye beam 3
[Statedef 1028]
type    = S
movetype= A
physics = S
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
anim = 36050
ctrl = 0

[State 9876, PlaySnd]
type = PlaySnd
trigger1 = Time <= 41
trigger1 = Random < 50
value = 1,11
volume = 100

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 961
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 961

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 962
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 962

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 963
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 963

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 964
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 964

[State 9876, Explod]
type = Explod
trigger1 = Time <= 41
trigger1 = Random < 50
anim = 965
sprpriority = 3
postype = p1
pos = 27,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 965

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,13 

[State 2600,Som]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 10

[State 9876, Explod]
type = Explod
trigger1 = Projhit = 1
anim = 997
sprpriority = 3
postype = p2
pos = 27,-61
bindtime = 11
ownpal = 1

[State 2600, 1]
type = Projectile
trigger1 = AnimElem = 2
projanim = 11000
projhits = 2
projremove = 0
;projhitanim = 8720
projpriority = 9999
projremovetime = 19
projid = 8720
velocity = 0,0
offset = 10,-57
attr = S, SP
animtype  = Hard
damage    = 25,10
getpower  = 0
sparkno = -1
sparkxy = -1
priority  = 6
hitflag = MAFD
guardflag = MA
pausetime = 0,0
hitsound   = S1,3            
guardsound = S6,0                
ground.type = high
ground.slidetime = 11
ground.hittime  = 11
ground.velocity = -5,0
air.velocity = -5,-3
fall.animtype = Hard
fall = 0
fall.recover = 0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 2600,Fim]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;2-hit combo
[Statedef 1029]
type    = S
movetype= A
physics = S
juggle  = 3
anim = 31028
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
poweradd = 65
ctrl = 0

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 1300, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 410, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10

[State 410, 2]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 11

[State 410, 2] ;Gravity
type = VelAdd
trigger1 = time = 0
y = 0
x = 10

[State 410, 2] ;Gravity
type = velset
trigger1 = time >= 0
y = 0

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 1
animtype  = light
attr = S, SA
damage    = 37,12
pausetime = 9,12
guardflag = M
sparkxy = -10,-40
sparkno = 1
hitsound   = S3,5
guardsound = 6,0
ground.type = high                 ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 12             ;Time that the victim slides back
ground.hittime  = 12             ;Time victim is in hit state
ground.velocity = 1

[State 3000, 12]
type = ChangeState
trigger1 = time = 10
value = 1030
ctrl = 0

;2-hit combo
[Statedef 1030]
type    = S
movetype= A
physics = S
juggle  = 3
anim = 1029
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
poweradd = 65
ctrl = 0

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 1300, Super D]
type = AfterImage
trigger1 = Time = 0
trans = add1
TimeGap  = 1
FrameGap = 3
time = 20
length = 15
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 410, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3, 10

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 2
animtype  = light
attr = S, SA
damage    = 17,12
pausetime = 9,30
guardflag = M
sparkxy = -10,-40
sparkno = 2
hitsound   = S3,6
guardsound = 6,0
ground.type = high                 ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 12             ;Time that the victim slides back
ground.hittime  = 12             ;Time victim is in hit state
ground.velocity = 1

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 5
animtype  = high
attr = S, SA
damage    = 17,12
pausetime = 9,12
guardflag = M
sparkxy = -10,-40
sparkno = 3
hitsound   = S3,6
guardsound = 6,0
ground.type = high                 ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 12             ;Time that the victim slides back
ground.hittime  = 12             ;Time victim is in hit state
ground.velocity = -1,-15
fall = 1
fall.recover = 0
p2stateno = 203

[State 201, 6]
type = ChangeState
trigger1 = Movehit = 1
trigger1 = Pos Y >= 0
trigger1 = command = "holdup"
triggerall = animelem = 5
;trigger1 = time < 20
value = 720
ctrl = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 3000, 12]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Special fire cannon beam intro
[Statedef 1086]
type    = S
movetype= A
physics = S
poweradd = -1000
anim = 1086
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)
ctrl = 0

[State 1086, 1]
type = posfreeze
trigger1 = time >= 0

[State 1086, 2]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 0,-60
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1086, 3]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 0,-60
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1086, 3]
type = Explod
trigger1 = AnimElem = 1
id = 8000
anim = 8000
postype = left
pos = 0,0
sprpriority = -999
removetime = 48
bindtime = -1
ownpal = 1
supermove = 1

[State 1086, 5]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1086, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 4,5
volume = 255

[State 1086, 7]
type = ChangeState
trigger1 = time = 48
value = 1087

[Statedef 1087]
type = S
physics = S
movetype = A
ctrl = 0
anim = 2022
juggle = 2
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 1087, Super D]
type = AfterImage
trigger1 = Time = 2
trans = add1
time = 63
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1087, 1]
type = PlaySnd
Trigger1 = Time = 2
value = 3, 0

[State 1087, superarmer]
type = HitOverride
trigger1 = Time >= 0
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
stateno = 10057

[State 1087, 1]
type = velset
trigger1 = AnimElem = 2,>=0 
x = 30

[State 1087, 1]
type = veladd
trigger1 = AnimElem = 7, >= 0  
x = -5

[State 1087, 1]
type = HitDef
trigger1 = Time = 0
attr = S, HT
p2facing = 1 
damage    = 0, 1
animtype = heavy
givepower = 15,8
getpower = 0,0
guardflag = M  
getpower = 0,0
hitflag = MAF
priority = 5
pausetime = 0,0     
sparkno = -1   
sparkxy = -10,-50
hitsound   = s3,9
guardsound = 6,0
ground.type = Low
ground.slidetime = 80
ground.hittime  = 40 
ground.velocity = 18
guard.slidetime = 10 
guard.hittime  = 15
guard.velocity = -2 
down.velocity = 7, -4
air.type = Low
air.hittime  = 40 
air.slidetime = 80 
snap = 0,0,0
air.velocity = 8
fall.recover = 0
fall = 0
down.hittime = 20
down.bounce = 1
forcestand = 1
p1stateno = 1088
p2stateno = 1090
p2getp1state = 1

[State 1087, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;corner genocide p1 (Binds p2 to you)
[Statedef 1088]
type = S
physics = N
movetype = A
ctrl = 0
velset = 30, 0
;facep2 = !(PrevStateno = 9000)
anim = 2022
juggle = 2

[State 1088, 0]
type = PlaySnd
Trigger1 = Time = 0
value = s0, 4

[State 1088, 0]
type = PlaySnd
Trigger1 = Time = 0
value = s0, 4

[State 1088, 0]
type = PlaySnd
Trigger1 = Time = 2
value = 2, 5

[State 1088, 1]
type = AfterImage
trigger1 = Time = 2
trans = add1
TimeGap  = 1
FrameGap = 6
time = 72
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1.2,1.2,1.2;.9, .9, .9

[State 1088, 2]
type = targetbind
Trigger1 = time = 0
pos x = 65, 0
time = 2

[State 1088, 3]
type = targetbind
Trigger1 = AnimElem = 2
pos x = 40, 0
time = 999

[State 1088, 4]
type = SprPriority
Trigger1 = time = 0
value = -1

[State 1088, 5]
type = SprPriority
Trigger1 = frontedgedist = 0
value = 3

[State 1088, 6]
type = ChangeState
Trigger1 = frontedgedist = 0
Trigger2 = Time = 120
value = 1089
ctrl = 0

;---------------------------------------------------------------------------
;when you hit the corner
[Statedef 1089]
type    = S
movetype= A
physics = N
velset = 0, 0
;facep2 = !(PrevStateno = 9000)
juggle  = 0
ctrl = 0    
anim = 13100
poweradd = 0

[State 1089, 1]
type = posadd
Trigger1 = time = 0
x = -100

[State 1089, 2]
type = targetbind
Trigger1 = time >= 0
Trigger1 = time < 1
pos = 95, -15

[State 1089, 3]
type = targetstate
Trigger1 = time = 0
value = 1091

[State 1089, 4]
type = EnvShake
Trigger1 = Time = 0
time = 15
ampl = -3
freq = 90
phase = 90

[State 1089, 5]
type = PlaySnd
trigger1 = Time = 0
value = 1900,1

[State 1089, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 1093
ctrl = 0

;---------------------------------
[Statedef 1090]
type    = A
movetype= H ;Get hit
physics = S

[State 1090, 0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 1090, 1]
type = AfterImage
trigger1 = Time = 2
trans = add1
TimeGap  = 1
FrameGap = 6
time = 50
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 1090, 0]
type = posset
trigger1 = Time = 0
y = 0

[State 1090, 0]
type = SprPriority
trigger1 = Time = 0
value = 1

[State 1090, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 9500

;-----------------
[Statedef 1091]
type    = A
movetype= H ;Get hit
velset = 0,0
physics = S

;[State 1091, 0]
;type = posset
;trigger1 = Time = 0
;y = 0

[State 1091, 0]
type = SprPriority
trigger1 = Time = 0
value = -1

[State 1091, 1]
type = ChangeAnim2
Trigger1 = time = 0
value = 2510
;-----------------
;if p2 is not affected when in corner
[Statedef 1092]
type    = A
movetype= H ;Get hit
velset = 0
physics = S

[State 1092, 0]
type = SprPriority
trigger1 = Time = 0
value = 10

[State 1092, 1]
type = SelfState
Trigger1 = movecontact = 0
Trigger1 = time = 41
value = 5050
ctrl = 0
;=-=-=-=-=-=-=-=-=-=-=-=-=-==--==-=-=-=
;If piccolo is hit while dashing
[Statedef 10057]
type    = S
movetype= H
physics = S
ctrl = 0

[State 10057, 0]
type = PlaySnd
Trigger1 = Time = 0
value = s0, 9

[State 10057, 0]
type = PlaySnd
Trigger1 = Time = 0
value = s0, 9

[State 10057, 1]
type = EnvColor
trigger1 = Time = 0
value = 255,255,255
time = 8

[State 10057, 2]
type = velset
trigger1 = time >= 0
x = 0
y = 0

[State 10057, 3]
type = ChangeState
trigger1 = Time = 5
value = 10058

;----------------------------------------------------------------------------------
; If piccolo is hit, you gotta pay.....
[Statedef 10058]
type = S
physics = S
movetype = A
ctrl = 0
anim = 10050
juggle = 2

[State 10058, Super D]
type = AfterImage
trigger1 = Time = 2
trans = add1
time = 63
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9

[State 10058, superarmer]
type = HitOverride
trigger1 = Time >= 0
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
stateno = 10057

[State 10058, 1]
type = velset
trigger1 = AnimElem = 2,>=0 
x = 30

[State 10058, 1]
type = veladd
trigger1 = AnimElem = 7, >= 0  
x = -5

[State 10058, 1]
type = HitDef
trigger1 = Time = 0
attr = S, HT
p2facing = 1 
damage    = 0, 55
animtype = heavy
givepower = 15,8
getpower = 0,0
guardflag = M  
getpower = 0,0
hitflag = MAF
priority = 5
pausetime = 0,0
numhits = 1      
sparkno = 0   
sparkxy = -10,-50
hitsound   = s0,7
guardsound = s1,4
ground.type = Low
ground.slidetime = 80
ground.hittime  = 40 
ground.velocity = 18
guard.slidetime = 10 
guard.hittime  = 15
guard.velocity = -2 
down.velocity = 7, -4
air.type = Low
air.hittime  = 40 
air.slidetime = 80 
snap = 0,0,0
air.velocity = 8
fall.recover = 0
fall = 0
down.hittime = 20
down.bounce = 1
forcestand = 1
p1stateno = 10001
p2stateno = 10003
p2getp1state = 1

[State 10058, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;charging markansousapo
[Statedef 1093]
type    = S
movetype= I
physics = S
anim = 33000
ctrl = 0
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State 1082, 1]
type = Explod
trigger1 = time = 0
anim = 71
pos = -15,-68
postype = p1
sprpriority = 99
bindtime = 1
removetime = -2
ignorehitpause = 1
ownpal = 1
persistant = 0

[State 1092, Tap!]
type = Explod
trigger1 = time = 0
anim = 81
pos = 85,-128
postype = p1
sprpriority = 99
bindtime = 1
removetime = 150
ignorehitpause = 1
ownpal = 1
persistant = 0

[State 1092, me]
type = playsnd
trigger1 = Time = 100
value = 1,17

[State 1092, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 961
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 971
supermove = 1

[State 1092, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 962
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 972
supermove = 1

[State 1092, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 963
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 973
supermove = 1

[State 1092, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 964
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 974
supermove = 1

[State 1092, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 965
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 975
supermove = 1

[State 1092, ball]
type = Explod
trigger1 = Time = 20
anim = 9002
pos = -15,-68
bindtime = -1
sprpriority = 4
;removetime = 200
supermove = 1

[State 1092, field]
type = Explod
trigger1 = Time = 100
anim = 756
pos = -6,0
bindtime = -1
sprpriority = -3
removetime = -1

[State 1092, 4]
type = explod
trigger1 = timemod = 6, 1
trigger1 = time >= 100
anim = 740
id = 740
sprpriority = 3
pos = 0,-11
postype = p1
random = 72,64
ownpal = 1
removetime = 100
vel = 0,-8

[state 1092]
type = removeexplod
trigger1 = time = 149

[State 1092, varadd]
type = varadd
trigger1 = command = "a" && Time <= 150
v = 18 
value = 1

[State 1092, 4]
type = envshake
trigger1 = time = 100
time = 100
freq = 88
ampl = -20
phase = 10

[State 1092, flash]
type  = allPalFX
trigger1 = time = 98 
time = 10
add = 250, 250, 0
mul = 150, 150, 150
;invertall = 1

[State 1092, 1]
type = Explod
trigger1 = Time = 100 && prevstateno != 1500
persistent = 0
anim = 5412
pos = -30,2
ownpal = 1
postype = p1
sprpriority = 100
bindtime = 1
removetime = -1
ignorehitpause = 1

[State 1092, 1]
type = Explod
trigger1 = Time = 100 && prevstateno != 1500
persistent = 0
anim = 5412
pos = 30,2
ownpal = 1
postype = p1
sprpriority = 100
bindtime = 1
facing = -1
removetime = -1
ignorehitpause = 1

[State 1092, Super Sound]
type = PlaySnd
trigger1 = Time = 0
value = 3,17
volume = 500

[State 1092, BGPalFX]
type  = BGPalFX
trigger1 = time = 110 
time = 50
add = 0, 0, 45
mul = 100, 100, 100

[State 1092, end1]
type = changestate
trigger1 = var(18) <= 17
trigger1 = time >= 150
value = 1094

[State 1092, end2]
type = changestate
trigger1 = var(18) >= 17
trigger1 = time >= 150
value = 1095

;weak beam cannon
[Statedef 1094]
type    = S
movetype= A
physics = S
poweradd= 25
ctrl = 0
anim = 33001
velset = 0
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State 1094, Super Sound]
type = PlaySnd
trigger1 = Time = 0
value = 3,4
volume = 500

[State 1093, BGPalFX]
type  = BGPalFX
trigger1 = time = 50 
time = 50
add = 0, 0, 45
mul = 150, 150, 150

[State 1093, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[State 1093, 3]
type = Projectile
trigger1 = time = 0
projanim = 4000
offset = 50,-60
projmisstime = 4
projremovetime = 94
velocity = 0,0
projhits = 10
attr = S, SP
damage    = 15,2
animtype  = Hard
getpower  = 15
givepower = 30
pausetime = 0,12
sparkno = -1
sparkxy = 60, -47
hitsound = S5,13
guardflag = MA 
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.type = Low
air.velocity = -2.5,0
air.juggle = 3
fall.animtype = Hard
air.fall = 1
fall = 1
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

;explosion
[State 1093, 4]
type = Explod
trigger1 = projHit = 1
persistent = 0
anim = 80
pos = -5,-40
postype = p2
ownpal = 1
sprpriority = 9999
ignorehitpause = 1

[State 1093, varset]
type = Varset
trigger1 = animTime = 0
v = 18
value = 0

[State 1093, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;strong beam cannon
[Statedef 1095]
type    = S
movetype= A
physics = S
poweradd= 25
ctrl = 0
anim = 33001
;velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
;facep2 = !(PrevStateno = 9000)

[State 1095, Super Sound]
type = PlaySnd
trigger1 = Time = 0
value = 3,4
volume = 500

[State 1093, BGPalFX]
type  = BGPalFX
trigger1 = time = 50 
time = 50
add = 0, 0, 45
mul = 150, 150, 150

[State 1093, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[State 1093,3]
type = bgpalfx
trigger1 = projhit = 1
time = 1
add = 256,150,56
sinadd = 166,150,156

[State 1093, 3]
type = Projectile
trigger1 = time = 0
projanim = 4092
offset = 50,-60
velocity = 0,0
projhits = 20
projmisstime = 4
projremovetime = 94
projsprpriority = -3
attr = S, SP
damage    = 10,2
animtype  = Hard
pausetime = 0,12
sparkno = -1
sparkxy = 60, -47
hitsound = S5,13
guardflag = MA 
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.type = Low
air.velocity = -2.5,-1.75
air.juggle = 3
fall.animtype = Hard
air.fall = 1
fall = 1
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,192,192

;blood
[State 225, 4]
type = Explod
trigger1 = projHit = 1
persistent = 0
anim = 6009
pos = -5,-40
postype = p2
ownpal = 1
sprpriority = 4
ignorehitpause = 1

[State 180, 1]
type = Varset
trigger1 = animTime = 0
v = 18
value = 0

[State 1093, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;gakeretsuden intro
[Statedef 1096]
type    = S
movetype= A
physics = S
poweradd = -2000
anim = 33002
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1096, 1]
type = posfreeze
trigger1 = time >= 0

[State 1096, 2]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 15,-58
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1096, 3]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 15,-58
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1096, 3]
type = Explod
trigger1 = AnimElem = 1
id = 8000
anim = 8000
postype = left
pos = 0,0
sprpriority = -999
removetime = 48
bindtime = -1
ownpal = 1
supermove = 1

[State 1096, 5]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1096, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 4,5
volume = 255

[State 1096, 7]
type = ChangeState
trigger1 = time = 48
value = 1097

;charging gakeretsuden
[Statedef 1097]
type    = S
movetype= I
physics = S
anim = 33002
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1097, ball appear]
type = PlaySnd
trigger1 = Time = 80
value = 5,0
volume = 500

[State 1097, 1]
type = Explod
trigger1 = time = 0
anim = 71
pos = 15,-58
postype = p1
sprpriority = 99
bindtime = 1
removetime = 19
ignorehitpause = 1
ownpal = 1
persistant = 0

[State 1097, Exclamation]
type = Explod
trigger1 = time = 20
anim = 9516
pos = 15,-58
postype = p1
sprpriority = 5
bindtime = 1
persistent = 0
removetime = 60
ignorehitpause = 1
ownpal = 1

[State 1092, Super Sound]
type = PlaySnd
trigger1 = Time = 0
value = 3,18
volume = 500

[State 1097, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 961
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 971
supermove = 1

[State 1097, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 962
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 972
supermove = 1

[State 1097, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 963
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 973
supermove = 1

[State 1097, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 964
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 974
supermove = 1

[State 1097, Explod]
type = Explod
trigger1 = Time >= 50
trigger1 = Random < 50
anim = 965
sprpriority = 5
postype = p1
pos = 7,-31
random = 52,64
bindtime = 1
ownpal = 1
id = 975
supermove = 1

[State 1097, ball]
type = Explod
trigger1 = Time = 80
anim = 3616
pos = 15,-58
bindtime = -1
sprpriority = 4
;removetime = 54
supermove = 1

[state 1097]
type = removeexplod
trigger1 = time = 134

[State 1097, BGPalFX]
type  = BGPalFX
trigger1 = time = 20 
time = 114
add = 0, 0, 45
mul = 100, 100, 100

[State 200, 3]
type = ChangeState
trigger1 = movetype = H
trigger1 = Pos Y < 0
value = 31500

[State 1097, end1]
type = changestate
trigger1 = time >= 134
value = 1098

;shooting gakeretsuden
[Statedef 1098]
type    = S
movetype= I
physics = S
anim = 33003
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1098, ball]
type = Helper
trigger1 = AnimElem = 1
stateno = 1099
postype = p1
pos = 37,-53
bindtime = 1
ownpal = 1
name = "ball"
id = 1097

[State 1098, end1]
type = velset
trigger1 = time = 3
x = -6

[State 1092, Super Sound]
type = PlaySnd
trigger1 = Time = 0
value = 2,19
volume = 500

[State 1098, dust anim]
type = MakeDust
trigger1 = Time >= 3
trigger1 = Time <= 20
pos = 0, 0

[State 1098, BGPalFX]
type  = BGPalFX
trigger1 = time = 20 
time = 114
add = 0, 0, 45
mul = 100, 100, 100

[State 200, 3]
type = ChangeState
trigger1 = Time = 70
trigger1 = Pos Y < 0
value = 31500

[State 1098, end1]
type = changestate
trigger1 = time = 70
value = 0
ctrl = 1

;ball helper
[Statedef 1099]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 25
ctrl = 0
velset = 0,0,0
anim = 33004

[State 1092, light strike]
type = PlaySnd
trigger1 = time >= 0
trigger1 = random < 40
value = 2,6
volume = 500

[State 1099, 1]
type = EnvColor
trigger1 = time >= 0
trigger1 = random < 40
value = 255,255,255
time = 2

[State 1099, 2]
type = Explod
trigger1 = numexplod(122) = 0
trigger1 = numexplod(121) = 0
trigger1 = time >= 0
trigger1 = random < 50
anim = 853
pos = -100,80
random = -100,0
id = 121
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
supermove = 1

[State 1099, 2]
type = Explod
trigger1 = numexplod(123) = 0
trigger1 = numexplod(122) = 0
trigger1 = time >= 0
trigger1 = random < 50
anim = 853
pos = 100,80
random = 100,0
postype = p1
sprpriority = 100
bindtime = 1
id = 122
ignorehitpause = 1
supermove = 1

[State 1099, 2]
type = Explod
trigger1 = numexplod(123) = 0
trigger1 = numexplod(121) = 0
trigger1 = time >= 0
trigger1 = random < 50
anim = 853
pos = 0,80
id = 123
random = -40,0
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1
supermove = 1

[State 1099, 3]
type = velset
trigger1 = time >= 0
trigger1 = p2bodydist X >= 0
x = 1

[State 1099, opposite speed]
type = velset
trigger1 = time >= 0
trigger1 = p2bodydist X <= 0
x = -1

[State 1099, heatseek]
type = turn
trigger1 = p2bodydist X = 0

[State 1099, sprpr]
type = sprpriority
trigger1 = time >= 0
value = 9999

[State 1099, HitOverride]
type = HitOverride
trigger1 = 1
slot = 0
time = 1
stateno = 1099
attr = SCA, NP, SP, HP, NA, SA, SA, HA
ignorehitpause = 1

[State 1099, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = Medium
damage    = 121,121
hitflag = MAF
guardflag = 
pausetime = 0,0
sparkxy = -10,-70
hitsound   = S4,9
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -20,-3
guard.velocity = -5
air.velocity = -20,-3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
fall = 1
fall.recover = 0
air.fall = 1

[State 1099, dust anim]
type = MakeDust
trigger1 = Time >= 3
pos = 0, 40

[State 1099, shake]
type = envshake
trigger1 = time >= 0
trigger1 = random < 40
time = 20
freq = 48
ampl = -20
phase = 10

;explosion
[State 1099, 4]
type = Explod
trigger1 = moveHit = 1
persistent = 0
anim = 80
pos = -5,-40
scale = 2,2
postype = p2
ownpal = 1
sprpriority = 9999
ignorehitpause = 1

[State 1099, BGPalFX]
type  = BGPalFX
trigger1 = time >= 0 
time = 1
add = 0, 0, 45
mul = -100, -100, -100

[State 1099, 5]
type = Destroyself
trigger1 = backedgedist = 0
trigger2 = frontedgedist = 0
trigger3 = movehit = 1

;Super eye beam intro
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd = -1000
anim = 1100
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1100, 1]
type = posfreeze
trigger1 = time >= 0

[State 1100, 2]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 15,-58
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1100, 3]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 15,-58
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1100, 3]
type = Explod
trigger1 = AnimElem = 1
id = 8000
anim = 8000
postype = left
pos = 0,0
sprpriority = -999
removetime = 48
bindtime = -1
ownpal = 1
supermove = 1

[State 1100, 5]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1100, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 4,5
volume = 255

[State 1100, 7]
type = ChangeState
trigger1 = time = 48
value = 1101

;strong beam cannon
[Statedef 1101]
type    = S
movetype= A
physics = S
poweradd= 25
ctrl = 0
anim = 1101
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1101, Super Sound]
type = PlaySnd
trigger1 = Time = 0
value = 3,19
volume = 500

[State 1101, BGPalFX]
type  = BGPalFX
trigger1 = time = 0 
time = 50
add = 0, 0, 45
mul = 150, 150, 150

[State 1093, 1]
type = velset
trigger1 = time >= 0
trigger1 = time <= 48
x = 0
y = 0

[State 1101,2]
type = bgpalfx
trigger1 = projhit = 1
time = 1
add = 256,150,56
sinadd = 166,150,156

[State 1101, 3]
type = Projectile
trigger1 = time = 0
projanim = 3001
offset = 30,-67
velocity = 0,0
projhits = 12
projmisstime = 4
projremovetime = 47
projsprpriority = 4
projpriority = 999
attr = S, SP
damage    = 10,3
animtype  = Hard
pausetime = 0,12
sparkno = -1
sparkxy = 60, -47
hitsound = S1,3
guardflag = MA 
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4
air.type = Low
air.velocity = -2.5,-1.75
air.juggle = 3
palfx.time = 15
palfx.add = 32,0,0
palfx.mul = 300,56,65

[State 1101, Explod]
type = Explod
trigger1 = Projhit = 1
anim = 997
sprpriority = 9999
postype = p2
pos = 27,-61
bindtime = 11
ownpal = 1

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 31500

[State 1101, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;ground stomp: tightness combo starter intro
[Statedef 1106]
type    = S
movetype= A
physics = S
poweradd = -2000
anim = 6029
ctrl = 0
ignorehitpause = 1
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1106, 1]
type = posfreeze
trigger1 = time >= 0

[State 1106, 2]
type = Explod
trigger1 = time = 0
anim = 9007
id = 9007
pos = 15,-58
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 22
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1106, 3]
type = Explod
trigger1 = time = 20
anim = 9005
id = 9005
pos = 15,-58
postype = p1
sprpriority = 99999
bindtime = -1
removetime = 14
ignorehitpause = 1
ownpal = 1
supermove = 1

[State 1106, 3]
type = Explod
trigger1 = AnimElem = 1
id = 8000
anim = 8000
postype = left
pos = 0,0
sprpriority = -999
removetime = 48
bindtime = -1
ownpal = 1
supermove = 1

[State 1106, 5]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1106, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 4,5
volume = 255

[State 1106, varset]
type = varrandom
trigger1 = animelem = 1
v = 36
range = 1,6

[State 1106, 7]
type = ChangeState
trigger1 = time = 48
trigger1 = var(36) = [1,4]
value = 1107

[State 1106, 7]
type = ChangeState
trigger1 = time = 48
trigger1 = var(36) = [5,6]
value = 1114

;piccolo stomping
[Statedef 1107]
type    = S
movetype= A
physics = S
juggle  = 3
anim = 6030
poweradd = 65
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State -2, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(52) = 1
ignorehitpause = 1
persistent = 0

[State 1107, 1]
type = Explod
trigger1 = time = 0
anim = 9750
pos = 15,-58
postype = p1
sprpriority = 99
bindtime = -1
removetime = 19
ignorehitpause = 1
persistant = 0
ownpal = 1

[State 1107, 2]
type = Explod
trigger1 = numexplod(7100) = 0
trigger1 = time <= 8
trigger1 = movehit = 1
anim = 7100
pos = 15,-58
id = 7100
postype = p2
sprpriority = 3
persistant = 0
bindtime = -1
;removetime = 19
ignorehitpause = 1
ownpal = 1

[State 1107, 3]
type = Explod
trigger1 = movehit = 1
trigger1 = numexplod(9750) = 0
trigger1 = time <= 8
anim = 9750
pos = 15,-58
persistant = 0
id = 9750
postype = p2
sprpriority = 3
bindtime = -1
;removetime = 22
ignorehitpause = 1
ownpal = 1

[State 1107, 4]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 15

[State 1107, 5]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 16

[State 1107, shake]
type = envshake
trigger1 = time = 0
time = 20
freq = 48
ampl = -20
phase = 10

[State 1107, 6]
type = HitDef
trigger1 = AnimElem = 2
animtype  = high
attr = S, SA
damage    = 60,12
pausetime = 0,0;66,0
guardflag = LA
sparkxy = -10,-40
sparkno = S898
hitsound   = S3,6
guardsound = 6,0
ground.type = high                
ground.slidetime = 0             
ground.hittime  = 66             
ground.velocity = 0,-15
air.velocity = 0,-15
fall = 1
fall.recover = 0

[State 1107, hit]
type = PlaySnd
triggerall = movehit = 1
trigger1 = command = "a" && time >= 0
value = 3,6
volume = 500

[State 1107, hit]
type = hitadd
triggerall = movehit = 1
trigger1 = command = "a" && time >= 0
value = 1

[State 1107, shock wave]
type = Explod
triggerall = movehit = 1
trigger1 = command = "a" && time >= 0
anim = 9516
pos = 0,-30
persistent = 1
postype = p2
sprpriority = 1
bindtime = -1
;removetime = 30
ignorehitpause = 1
ownpal = 1

[State 1107, hit]
type = targetlifeadd
trigger1 = command = "a" && Time >= 0
trigger1 = movehit = 1 
value = -4

[State 1108, 8]
type = Projectile
trigger1 = command = "z" && Time >= 0
projanim = 11065
projhitanim = 11065
offset = 0,0
velocity = 0
projremove = 1
postype = p2
projpriority = 99
projhits = 1
attr = S, SA
damage   = 10,5
guardflag = M
animtype = hard
pausetime = 0,0
sparkno = -1
hitsound   = s4,9
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = -17, 0
air.animtype = back
air.velocity = -17,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1107, 2]
type = Explod
trigger1 = numexplod(7100) = 0
trigger1 = time >= 0
trigger1 = movehit = 1
trigger1 = command = "z"
anim = 7100
pos = 15,-58
id = 7100
postype = p2
sprpriority = 3
persistant = 0
bindtime = -1
;removetime = 19
ignorehitpause = 1
ownpal = 1

[State 1107, comon]
type = PlaySnd
trigger1 = time = 0
value = 6,1
volume = 500

[State 1107, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = (Time * -4),(Time * -4),(Time * -4)
color = 1
ignorehitpause = 1

[State 1107, 4]
type = ChangeState
trigger1 = command = "Grab" && time <= 100
trigger1 = movehit = 1
value = 1108
ctrl = 0

[State 1107, 4]
type = ChangeState
trigger1 = command = "Finalflash" && time <= 100
trigger1 = movehit = 1
value = 1109
ctrl = 0

[State 117, 4]
type = ChangeState
trigger1 = command = "ground" && time <= 100
trigger1 = movehit = 1
value = 1110
ctrl = 0

[State 1107, 4]
type = ChangeState
trigger1 = command = "Bang" && time <= 100
trigger1 = movehit = 1
value = 1113
ctrl = 0

[State 1107, 4]
type = ChangeState
triggerall = movehit = 1
trigger1 = Time >= 85
trigger2 = command = "z"
value = 0
ctrl = 1

[State 1107, varset]
type = varset
trigger1 = animelem = 1
v = 36
value = 0

[State 1107, 4]
type = ChangeState
trigger1 = movehit = 0 && Time >= 25
value = 0
ctrl = 1

;Tight combo ender 1
[Statedef 1108]
type    = S
movetype= A
physics = S
juggle  = 3
anim = 6031
poweradd = 0
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[state 1108, red fadeout]
type = BGPalFx
trigger1 = Time >= 30
add = 100,0,0
mul = 200,200,300
;sinadd = 100,100,100,350
time = 57
ignorehitpause = 1
invertall = 1
;persistent     = 0

[state 1108, red fadein]
type = BGPalFx
trigger1 = time = [0,30]
add = 100,0,0
;sinadd = 305,-255,-355,180
time = 32
invertall = 1
ignorehitpause = 1
;persistent = 0

[State 1108, 1]
type = Projectile
trigger1 = time = 0
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - 10,80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,49
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0, 0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 2]
type = Projectile
trigger1 = time = 0
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - -15,80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,49
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0, 0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 3]
type = Projectile
trigger1 = time = 10
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - 30,80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,49
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0, 0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 4]
type = Projectile
trigger1 = time = 10
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - -35, 80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,49
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0, 0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 5]
type = Projectile
trigger1 = time = 20
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - 50, 80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,49
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0,0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 6]
type = Projectile
trigger1 = time = 20
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - -55, 80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,49
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0,0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 7]
type = Projectile
trigger1 = time = 30
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - 70, 80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,9
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0, 0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 8]
type = Projectile
trigger1 = time = 30
projanim = 1028
projhitanim = 1028
offset = p2bodydist X - -75, 80
velocity = 0
postype = p1
projremovetime = 49
projpriority = 99
projhits = 2
attr = S, SA
damage   = 5
guardflag = M
animtype = hard
pausetime = 0,9
sparkno = -1
hitsound   = s5,20
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0, 0
air.animtype = back
air.velocity = 0,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1108, 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Tight combo ender 2
[Statedef 1109]
type    = S
movetype= A
physics = S
juggle  = 1
anim = 6031
poweradd = 0
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1109, 1]
type = Projectile
trigger1 = Time = 0
projanim = 11065
projhitanim = 11065
offset = 0,0
velocity = 0
projremovetime = 45
projmisstime = 5
postype = p2
projpriority = 99
projhits = 4
attr = S, SA
damage   = 10,5
guardflag = M
animtype = hard
pausetime = 0,25
sparkno = -1
hitsound   = s3,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = -0, 0
air.animtype = back
air.velocity = -0,0
airguard.velocity = -0.5,-0.4
fall = 1
fall.recover = 0

[State 1109, 2]
type = Projectile
trigger1 = Time = 35
projanim = 11065
projhitanim = 11065
offset = 0,0
velocity = 0
postype = p2
projpriority = 99
projhits = 1
attr = S, SA
damage   = 10,5
guardflag = M
animtype = hard
pausetime = 0,0
sparkno = -1
hitsound   = s4,9
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = 0, 17
air.animtype = back
air.velocity = 0,17
airguard.velocity = -0.5,-0.4
fall = 1

[State 1109, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
add = (Time * 1),(Time * 1),(Time * 1)
ignorehitpause = 1

[State 1109, hit anims]
type = Explod
trigger1 = projhit = 1
anim = 7100
pos = 15,-58
id = 7100
random = 25,-58
postype = p2
sprpriority = 3
persistant = 1
bindtime = -1
;removetime = 19
ownpal = 1

[State 1109, 4]
type = ChangeState
trigger1 = time = 40
value = 0
ctrl = 1

;piccolo kicking opponent away (tightness 3)
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle  = 3
anim = 1110
poweradd = 65
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1110, flash]
type = envcolor
trigger1 = time = 5
value = 255,255,255
time = 2

[State 1110, flash]
type = envcolor
trigger1 = time = 6
value = 0,0,0
time = 50
under = 1
ignorehitpause = 1

[State 1110, posset]
type = posset
trigger1 = time = 5
x = p2dist X
y = -149

[State 1088, 2]
type = targetbind
Trigger1 = time = 0
pos x = 20, 0
time = 10

[State 1110, posset]
type = turn
trigger1 = p2bodydist X <= 0

[State 1110, 1]
type = Explod
trigger1 = numexplod(9750) = 0
trigger1 = time = 0
anim = 9750
pos = 15,-58
postype = p2
sprpriority = 99
bindtime = -1
removetime = 19
ignorehitpause = 1
persistant = 0
ownpal = 1

[State 1110, 2]
type = Explod
trigger1 = numexplod(7100) = 0
trigger1 = time <= 8
trigger1 = movehit = 1
anim = 7100
pos = 15,-58
id = 7100
postype = p2
sprpriority = 3
persistant = 0
bindtime = -1
;removetime = 19
ignorehitpause = 1
ownpal = 1

[State 1110, shake]
type = envshake
trigger1 = time = 0
time = 20
freq = 48
ampl = -20
phase = 10

[State 1110, 6]
type = HitDef
trigger1 = AnimElem = 2
animtype  = high
attr = S, SA
damage    = 60,12
pausetime = 70,30;66,0
guardflag = LA
sparkxy = -10,-40
sparkno = S898
hitsound   = S6,2
guardsound = 6,0
ground.type = high                
ground.slidetime = 0             
ground.hittime  = 66             
ground.velocity = -17,3
air.velocity = -17,3
fall = 1
fall.recover = 0

[State 1010, ScreenBound]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[State 1110, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 50
ctrl = 1

;Tight combo ender 4
[Statedef 1113]
type    = S
movetype= A
physics = S
juggle  = 1
anim = 6030
poweradd = 0
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1113, Super Sound]
type = PlaySnd
trigger1 = time = 30
value = 5,14
volume = 500

[State 1088, 2]
type = targetbind
Trigger1 = time = 0
pos x = 160, -100
time = 80

[State 1113, envcolor]
type = envcolor
trigger1 = Time = 0
time = 2
value = 255,255,255
ignorehitpause = 1
under = 1

[State 1113, 3]
type = envshake
trigger1 = time = 10
time = 80
freq = 88
ampl = -20
phase = 10

[State 1113,colomn]
type = Explod
trigger1 = Time = 10
id = 3222
anim = 3222
pos = -6,120
postype = p2
bindtime = 1
sprpriority = -2
removetime = 70
supermove = 1

[State 1113, 1]
type = Projectile
trigger1 = Time = 30
projanim = 7530
projhitanim = 7530
offset = 0,120
velocity = 0,-10
projremove = 0
projremovetime = 45
projmisstime = 5
postype = p2
projpriority = 99
projhits = 1
attr = S, SA
damage   = 10,5
guardflag = M
animtype = hard
pausetime = 0,45
sparkno = -1
hitsound   = s5,18
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = -0, 0
air.animtype = back
air.velocity = -0,0
airguard.velocity = -0.5,-0.4
fall = 1
fall.recover = 0

[State 1113, envcolor]
type = envcolor
trigger1 = Time >= 2
time = 1
value = 0,0,0
ignorehitpause = 1
under = 1

;explosion
[State 1113, 4]
type = Explod
trigger1 = projHit = 1
persistent = 0
anim = 80
pos = -5,-40
postype = p2
ownpal = 1
sprpriority = 9999
ignorehitpause = 1

[State 1113, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;piccolo stomping(critical hit version)
[Statedef 1114]
type    = S
movetype= A
physics = S
juggle  = 3
anim = 6030
poweradd = 65
ctrl = 0
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1114, 1]
type = Explod
trigger1 = Time = 0 && prevstateno != 1500
persistent = 0
anim = 5412
pos = -10,2
postype = p1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1114, 1]
type = Explod
trigger1 = Time = 0 && prevstateno != 1500
persistent = 0
anim = 5412
pos = 10,2
postype = p1
facing = -1
sprpriority = 100
bindtime = 1
ignorehitpause = 1

[State 1114, field]
type = Explod
trigger1 = numexplod(1034) = 0
trigger1 = time <= 8
trigger1 = movehit = 1
anim = 1034
pos = -6,0
postype = p2
id = 1034
bindtime = 1
sprpriority = -3
removetime = -2
ignorehitpause = 1
persistant = 0

[State 1114, 4]
type = explod
triggerall = movehit = 1
trigger1 = timemod = 6, 1
trigger1 = time >= 0
anim = 740
id = 740
sprpriority = 3
pos = 0,50
postype = p2
random = 72,64
ownpal = 1
removetime = 100
vel = 0,-8

[State 1107, 1]
type = Explod
trigger1 = time = 0
anim = 9750
pos = 15,-58
postype = p1
sprpriority = 99
bindtime = -1
removetime = 19
ignorehitpause = 1
persistant = 0
ownpal = 1

[State 1107, 2]
type = Explod
trigger1 = numexplod(7100) = 0
trigger1 = time <= 8
trigger1 = movehit = 1
anim = 7100
pos = 15,-58
id = 7100
postype = p2
sprpriority = 3
persistant = 0
bindtime = -1
;removetime = 19
ignorehitpause = 1
ownpal = 1

[State 1107, 3]
type = Explod
trigger1 = movehit = 1
trigger1 = numexplod(9750) = 0
trigger1 = time <= 8
anim = 9750
pos = 15,-58
persistant = 0
id = 9750
postype = p2
sprpriority = 3
bindtime = -1
;removetime = 22
ignorehitpause = 1
ownpal = 1

[State 1107, 4]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 15

[State 1107, 5]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 16

[State 1107, shake]
type = envshake
trigger1 = time = 0
time = 20
freq = 48
ampl = -20
phase = 10

[State 1107, 6]
type = HitDef
trigger1 = AnimElem = 2
animtype  = high
attr = S, SA
damage    = 160,50
pausetime = 0,0;66,0
guardflag = LA
sparkxy = -10,-40
sparkno = S898
hitsound   = S3,6
guardsound = 6,0
ground.type = high                
ground.slidetime = 0             
ground.hittime  = 66             
ground.velocity = 0,-15
air.velocity = 0,-15
fall = 1
fall.recover = 0

[State 1107, hit]
type = PlaySnd
triggerall = movehit = 1
trigger1 = command = "a" && time >= 0
value = 3,6
volume = 500

[State 1107, hit]
type = hitadd
triggerall = movehit = 1
trigger1 = command = "a" && time >= 0
value = 1

[State 1107, shock wave]
type = Explod
triggerall = movehit = 1
trigger1 = command = "a" && time >= 0
anim = 9516
pos = 0,-30
persistent = 1
postype = p2
sprpriority = 1
bindtime = -1
;removetime = 30
ignorehitpause = 1
ownpal = 1

[State 1107, hit]
type = targetlifeadd
trigger1 = command = "a" && Time >= 0
trigger1 = movehit = 1 
value = -4

[State 1108, 8]
type = Projectile
trigger1 = command = "z" && Time >= 0
projanim = 11065
projhitanim = 11065
offset = 0,0
velocity = 0
projremove = 1
postype = p2
projpriority = 99
projhits = 1
attr = S, SA
damage   = 10,5
guardflag = M
animtype = hard
pausetime = 0,0
sparkno = -1
hitsound   = s4,9
guardsound = 6,0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 8
guard.velocity = -7
ground.velocity = -17, 0
air.animtype = back
air.velocity = -17,0
airguard.velocity = -0.5,-0.4
palfx.time = 65
palfx.add = 100,40,0
palfx.mul = 300,150,100
palfx.sinadd = 256,0,42,6
fall = 1

[State 1107, 2]
type = Explod
trigger1 = numexplod(7100) = 0
trigger1 = time >= 0
trigger1 = movehit = 1
trigger1 = command = "z"
anim = 7100
pos = 15,-58
id = 7100
postype = p2
sprpriority = 3
persistant = 0
bindtime = -1
;removetime = 19
ignorehitpause = 1
ownpal = 1

[State 1107, comon]
type = PlaySnd
trigger1 = time = 0
value = 6,1
volume = 500

[State 1107, BGPalFX]
type = BGPalFX
trigger1 = Time >= 0
time = 1
;add = (Time * -4),(Time * -4),(Time * -4)
color = 0
ignorehitpause = 1

[State 1107, 4]
type = ChangeState
trigger1 = command = "Grab" && time <= 100
trigger1 = movehit = 1
value = 1108
ctrl = 0

[State 1107, 4]
type = ChangeState
trigger1 = command = "Finalflash" && time <= 100
trigger1 = movehit = 1
value = 1109
ctrl = 0

[State 117, 4]
type = ChangeState
trigger1 = command = "ground" && time <= 100
trigger1 = movehit = 1
value = 1110
ctrl = 0

[State 1107, 4]
type = ChangeState
trigger1 = command = "Bang" && time <= 100
trigger1 = movehit = 1
value = 1113
ctrl = 0

[State 1107, 4]
type = ChangeState
triggerall = movehit = 1
trigger1 = Time >= 85
trigger2 = command = "z"
value = 0
ctrl = 1

;Critical hit
[State -1]
type = Explod
trigger1 = movehit = 1
persistent = 0
anim = 2996
ID = 2996
pos = -120,50
postype = right
sprpriority = 2
bindtime = -1
supermove = 1
ownpal = 1
ontop = 1
ignorehitpause = 1

[State 1106, varset]
type = varset
trigger1 = animelem = 1
v = 36
value = 0

[State 1107, 4]
type = ChangeState
trigger1 = movehit = 0 && Time >= 25
value = 0
ctrl = 1


;custom combo starter
[Statedef 1112]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 6029
ctrl = 0
ignorehitpause = 1
velset = (PrevStateno = 9000)* 0,(PrevStateno = 9000)* 0
facep2 = !(PrevStateno = 9000)

[State 1112, 1]
type = posfreeze
trigger1 = time >= 0

[State 1112, 1]
type = Explod
trigger1 = time = 0
anim = 9750
pos = 15,-58
postype = p1
sprpriority = 99
bindtime = -1
removetime = 19
ignorehitpause = 1
persistant = 0
ownpal = 1

[State 1112, 3]
type = Explod
trigger1 = AnimElem = 1
id = 8000
anim = 8000
postype = left
pos = 0,0
sprpriority = -999
removetime = 48
bindtime = -1
ownpal = 1
supermove = 1

[State 1112, 5]
type = SuperPause
trigger1 = animelem = 1
pos = -36, -85
anim = -1
postype = p1
movetime = 48
time = 48
darken = 0

[State 1112, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 3,17
volume = 255

[State 1112, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 2,20
volume = 255

[State 1112, varset]
type = varset
trigger1 = animtime = 0
v = 19
value = 1

[State custom combo effect]
trigger1 = animtime = 0
type = varset
v = 21
value = facing

[State 200, 3]
type = ChangeState
trigger1 = Time = 48
trigger1 = Pos Y < 0
value = 31500

[State 1112, 7]
type = ChangeState
trigger1 = time = 48
value = 0
ctrl = 1

;toss power upward
[Statedef 1189]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 1189
poweradd = -2000
ctrl = 0
ignorehitpause = 1

[State 1112, 1]
type = posfreeze
trigger1 = time >= 0

[State 1112, 1]
type = Explod
trigger1 = time = 0
anim = 9750
pos = 15,-58
postype = p1
sprpriority = 99
bindtime = -1
removetime = 19
ignorehitpause = 1
persistant = 0
ownpal = 1

[State 1112, 3]
type = Explod
trigger1 = AnimElem = 1
id = 8000
anim = 8000
postype = left
pos = 0,0
sprpriority = -999
removetime = 48
bindtime = -1
ownpal = 1
supermove = 1

[State 1097, ball]
type = Explod
trigger1 = Time = 7
anim = 3616
pos = 15,-58
bindtime = 1
sprpriority = 4
;removetime = 54
supermove = 1
vel = -9,-11

[State 1112, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 3,17
volume = 255

[State 1112, Super Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 2,20
volume = 255

[State 1112, varset]
type = varset
trigger1 = time = 45
v = 45
value = 1

;ball holder
[State 1173, 1.1]
type = helper
trigger1 = time = 45
name = "ball holder"
ID = 7656
pos = 0,10
postype = p1
bindtime = 1
stateno = 7656
ownpal = 1

[State 1112, 7]
type = ChangeState
trigger1 = time = 48
value = 0
ctrl = 1

;ball holder helper
[Statedef 7656]
type    = S
movetype= I
physics = N
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0,0
anim = 7656

[State 1173, 3]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State -2, 5]
type = varrandom
trigger1 = time >= 0
v = 48
range = -200,300

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 140
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 145
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 150
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 155
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 160
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1
;=-=-=-=--
;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 165
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 170
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 175
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 180
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

;Falling balls
[State 1173, 1.1]
type = helper
trigger1 = time = 185
name = "balls"
ID = 7654
pos = var(48),-130
postype = p1
stateno = 7654
ownpal = 1

[State -2]
type = parentvarset
trigger1 = time = 190
v = 45
value = 0

[State 1099, 5]
type = Destroyself
trigger1 = time = 195

;ball helper
[Statedef 7654]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 0
ctrl = 0
velset = 0,0,0
anim = 3616

[State 1099, 3]
type = velset
trigger1 = time >= 0
y = 13

[State 1173, 5]
type = Playsnd
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 5,17

[State 1099, sprpr]
type = sprpriority
trigger1 = time >= 0
value = 9999

[State 1173, 3]
type = Nothitby
trigger1 = time >= 0
value = SCA

[State 1099, 4]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = Medium
damage    = 50,25
hitflag = MAF
guardflag = MA
pausetime = 0,20
sparkxy = -10,-70
hitsound   = S5,17
guardsound = 6,0
ground.slidetime = 15
ground.hittime = 15
air.hittime	= 15
ground.velocity = -5,-4.3
guard.velocity = -5
air.velocity = -5,-4.3
airguard.velocity	= -5,-2
ground.cornerpush.veloff = -3
fall = 1
air.fall = 1

[State 1099, shake]
type = envshake
trigger1 = pos y >= 0
trigger1 = vel y > 0
time = 20
freq = 48
ampl = -20
phase = 10

[State 1074, Exclamation]
type = Explod
trigger1 = pos y >= 0
trigger1 = vel y > 0
anim = 1911
pos = 0,20
sprpriority = 99
bindtime = 1
removetime = 39
ignorehitpause = 1
ownpal = 1
persistant = 0

[State 1047, BGPalFX]
type  = allPalFX
trigger1 = pos y >= 0
trigger1 = vel y > 0
time = 6
add = 120, 120, 0

;explosion
[State 1099, 4]
type = Explod
trigger1 = moveHit = 1
persistent = 0
anim = 80
pos = -5,-40
scale = 2,2
postype = p2
ownpal = 1
sprpriority = 9999
ignorehitpause = 1

[State 1099, 5]
type = Destroyself
trigger1 = pos y >= 0
trigger1 = vel y > 0